import{u as F,a as L,r as T,b as I,c as q,e as a,P as A,j as e,S as u,T as H,I as R,d as E,f as k,H as B}from"./index-Noo6fs27.js";import{c as C,a as p,u as N,F as M,o as U,R as g}from"./rhf-autocomplete-erb-G4mR.js";import{L as V}from"./LoadingButton-_b30FxuD.js";import"./upload-avatar-04vlKITW.js";import"./format-number-Yy2PEz3_.js";import"./fade-QksGytxH.js";import"./image-ALYn2v86.js";import"./Button-0u0OGDhY.js";import"./TextField-R_zrqhUz.js";import"./isMuiElement--IXscibz.js";import"./Select-OTUqTT0w.js";import"./index-q81m-9gd.js";import"./Checkbox-8V6d5qf8.js";import"./SwitchBase-npDm6zu2.js";import"./Chip-uU-2Hg8I.js";import"./FormControlLabel-LkDekRFr.js";import"./Switch-1PwF50Ho.js";import"./editor-R8TcIy5n.js";import"./Radio-Rakm7KYW.js";import"./Autocomplete-OsxNL8sI.js";import"./Close-anbWtQJW.js";import"./CircularProgress-ofWz8Qe9.js";function _(){const{login:t}=F(),h=L(),[$,o]=T.useState(""),x=I().get("returnTo"),s=q(),j=C().shape({email:p().required("UserName is required"),password:p().required("Password is required")}),f={email:"",password:""},i=N({resolver:U(j),defaultValues:f}),{reset:b,handleSubmit:w,formState:{isSubmitting:y}}=i,S=w(async n=>{var m,c,d,l;try{const r=await(t==null?void 0:t(n.email,n.password));(m=r==null?void 0:r.data)!=null&&m.status?(a((c=r==null?void 0:r.data)==null?void 0:c.message),h.push(x||A)):(a((d=r==null?void 0:r.data)==null?void 0:d.message,{variant:"error"}),o((l=r==null?void 0:r.data)==null?void 0:l.message))}catch(r){console.error(r),b(),a(typeof r=="string"?r:r.message,{variant:"error"}),o(typeof r=="string"?r:r.message)}}),P=e.jsx(u,{spacing:2,sx:{mb:5,mt:15},children:e.jsx(H,{variant:"h4",children:"Sign in to DriveCasa"})}),v=e.jsxs(u,{spacing:2.5,children:[e.jsx(g,{name:"email",label:"User Name"}),e.jsx(g,{name:"password",label:"Password",type:s.value?"text":"password",InputProps:{endAdornment:e.jsx(R,{position:"end",children:e.jsx(E,{onClick:s.onToggle,edge:"end",children:e.jsx(k,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(V,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:y,children:"Login"})]});return e.jsxs(e.Fragment,{children:[P,e.jsx(M,{methods:i,onSubmit:S,children:v})]})}function ur(){return e.jsxs(e.Fragment,{children:[e.jsx(B,{children:e.jsx("title",{children:"Login"})}),e.jsx(_,{})]})}export{ur as default};
