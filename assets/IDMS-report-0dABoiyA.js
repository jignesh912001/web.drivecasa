import{k as l,j as t,ei as d,r as o,el as P,l as z,eh as D,m as U,p as J,i as K,q as Q,f as X,S as y,T as Z,H as _}from"./index-Ks3TOSIq.js";import{C as ee}from"./custom-breadcrumbs-W9bDBBuU.js";import{a as s,i as te}from"./format-time-3AQVHoBL.js";import{E as b}from"./empty-content-8lsYOAb1.js";import{S as i}from"./Stack-nN_ktu43.js";import{D as j}from"./DatePicker-6LxWtsRu.js";import{f as ae}from"./TextField-tOSLX-sg.js";import{a as re}from"./report-kcgUZtlH.js";import{C as le}from"./Card-vdcIGYi0.js";import{D as ne}from"./DataGrid-cM0FFpq6.js";import{G as ie,a as oe}from"./GridToolbarColumnsButton-BnKMud6j.js";import"./index-q81m-9gd.js";import"./DialogActions-wvrfoWGb.js";import"./ListItem-iEfVvsPe.js";import"./Chip-8HIaCVOq.js";import"./DialogContent-PZfO3X9Z.js";import"./dialogTitleClasses-bguNBaBC.js";import"./Select-tvpX3YFo.js";import"./Autocomplete-nLjhnkfB.js";import"./Close-WYfdXw2Y.js";import"./ClickAwayListener-a3KPNHUm.js";import"./Checkbox-cmHmjMjI.js";import"./SwitchBase-GReH0YHb.js";import"./Switch-4EoByK6Q.js";import"./Skeleton-HvX1xqdt.js";import"./CircularProgress-otiFQZT3.js";import"./TablePagination-N6zTghaH.js";import"./KeyboardArrowRight-GMUBF4yd.js";import"./FirstPage-tIzHEnDS.js";import"./TableCell-S3QnDOcP.js";import"./FormControlLabel-ZMimMnGE.js";function w({params:e}){var n;const a=(n=e==null?void 0:e.row)==null?void 0:n.nextDueAmount;return a===0?null:t.jsx(i,{sx:{py:1.5},children:`${d(a)}`})}w.propTypes={params:l.shape({row:l.object})};function T({params:e}){var n;const a=(n=e==null?void 0:e.row)==null?void 0:n.curDueAmt;return a===0?null:t.jsx(i,{sx:{py:1.5},children:`${d(a)}`})}T.propTypes={params:l.shape({row:l.object})};function N({params:e}){var n;const a=(n=e==null?void 0:e.row)==null?void 0:n.primaryLoanTotalCollected;return a===0?null:t.jsx(i,{sx:{py:1.5},children:`${d(a)}`})}N.propTypes={params:l.shape({row:l.object})};function S({params:e}){var n;const a=(n=e==null?void 0:e.row)==null?void 0:n.primaryLoanCurAmountFinanced;return a===0?null:t.jsx(i,{sx:{py:1.5},children:`${d(a)}`})}S.propTypes={params:l.shape({row:l.object})};function W({params:e}){var n;const a=(n=e==null?void 0:e.row)==null?void 0:n.primaryLoanCurTotalPrinBal;return a===0?null:t.jsx(i,{sx:{py:1.5},children:`${d(a)}`})}W.propTypes={params:l.shape({row:l.object})};function R({params:e}){var n;const a=(n=e==null?void 0:e.row)==null?void 0:n.estimatedFinanceChargeRemaining;return a===0?null:t.jsx(i,{sx:{py:1.5},children:`${d(a)}`})}R.propTypes={params:l.shape({row:l.object})};function g({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.primaryLoanContractDate)})}g.propTypes={params:l.shape({row:l.object})};function L({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.collateralAcquiredDate)})}L.propTypes={params:l.shape({row:l.object})};function A({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.curDueDate)})}A.propTypes={params:l.shape({row:l.object})};function I({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.nextDueDate)})}I.propTypes={params:l.shape({row:l.object})};function F({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.primaryLoanLastPaidDate)})}F.propTypes={params:l.shape({row:l.object})};function v({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.lastPromiseDate)})}v.propTypes={params:l.shape({row:l.object})};function M({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.lastRepoPostDate)})}M.propTypes={params:l.shape({row:l.object})};function G({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.lastTransferDate)})}G.propTypes={params:l.shape({row:l.object})};function k({filters:e,onFilters:a,dateError:n}){const c=o.useCallback(u=>{a("startDate",u)},[a]),h=o.useCallback(u=>{a("endDate",u)},[a]);return t.jsxs(t.Fragment,{children:[t.jsx(j,{label:"Start date",value:e.startDate,onChange:c,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:200}}}),t.jsx(j,{label:"End date",value:e.endDate,onChange:h,slotProps:{textField:{fullWidth:!0,error:n}},sx:{maxWidth:{md:200},[`& .${ae.root}`]:{position:{md:"absolute"},bottom:{md:-40}}}})]})}k.propTypes={dateError:l.bool,filters:l.object,onFilters:l.func};const C={search:"",startDate:P(),endDate:new Date},se=()=>{z();const[e,a]=o.useState(!0),[n,c]=o.useState(C),h=te(n.startDate,n.endDate),[u,E]=o.useState([]),[p,$]=o.useState(0);o.useEffect(()=>{e&&B()},[e]);const B=async()=>{const r={searchStartDate:D(n.startDate),searchEndDate:D(n.endDate),search:n.search},{result:f,isLoading:x}=await re(r),m=(f==null?void 0:f.map((H,V)=>({...H,id:V})))||[];$(m==null?void 0:m.length),E(m),a(x)},O=o.useCallback((r,f)=>{c(x=>({...x,[r]:f})),a(!0)},[]),q=()=>{const r={...C,startDate:P(),endDate:new Date};c(r),a(!0)},Y=[{field:"institutionID",headerName:"Institution ID",flex:1,minWidth:150,editable:!1},{field:"acctID",headerName:"Account ID",flex:1,minWidth:150,editable:!1},{field:"dealID",headerName:"Deal ID",flex:1,minWidth:150,editable:!1},{field:"loanNumber",headerName:"Loan Number",flex:1,minWidth:150,editable:!1},{field:"stockNumber",headerName:"Stock Number",flex:1,minWidth:150,editable:!1},{field:"vin",headerName:"VIN",flex:1,minWidth:200,editable:!1},{field:"primaryLoanContractDate",headerName:"Primary Loan Contract Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(g,{params:r})},{field:"collateralAcquiredDate",headerName:"Collateral Acquired Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(L,{params:r})},{field:"acctStatus",headerName:"Account Status",flex:1,minWidth:150,editable:!1},{field:"actualAcctStanding",headerName:"Account Standing",flex:1,minWidth:150,editable:!1},{field:"curDueDate",headerName:"Current Due Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(A,{params:r})},{field:"curDueAmt",headerName:"Current Due Amount",flex:1,minWidth:150,editable:!1,renderCell:r=>t.jsx(T,{params:r})},{field:"nextDueDate",headerName:"Next Due Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(I,{params:r})},{field:"nextDueAmount",headerName:"Next Due Amount",flex:1,minWidth:150,editable:!1,renderCell:r=>t.jsx(w,{params:r})},{field:"primaryLoanLastPaidDate",headerName:"Last Paid Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(F,{params:r})},{field:"primaryLoanPaymentsRemainingInMonths",headerName:"Payments Remaining (Months)",flex:1,minWidth:200,editable:!1},{field:"primaryLoanTotalCollected",headerName:"Total Collected",flex:1,minWidth:150,editable:!1,renderCell:r=>t.jsx(N,{params:r})},{field:"totalAcctCollected",headerName:"Total Account Collected",flex:1,minWidth:200,editable:!1},{field:"primaryLoanCurAmountFinanced",headerName:"Current Amount Financed",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(S,{params:r})},{field:"primaryLoanCurTotalPrinBal",headerName:"Principal Balance",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(W,{params:r})},{field:"estimatedFinanceChargeRemaining",headerName:"Finance Charge Remaining",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(R,{params:r})},{field:"actualDaysPastDue",headerName:"Days Past Due",flex:1,minWidth:150,editable:!1,valueGetter:r=>r.row.actualDaysPastDue!==0?r.row.actualDaysPastDue:null},{field:"actualPaymentsPastDue",headerName:"Payments Past Due",flex:1,minWidth:150,editable:!1,valueGetter:r=>r.row.actualPaymentsPastDue!==0?r.row.actualPaymentsPastDue:null},{field:"paymentsMade",headerName:"Payments Made",flex:1,minWidth:150,editable:!1,valueGetter:r=>r.row.paymentsMade!==0?r.row.paymentsMade:null},{field:"paidOnTime",headerName:"Paid on Time",flex:1,minWidth:150,editable:!1,valueGetter:r=>r.row.paidOnTime!==0?r.row.paidOnTime:null},{field:"insPolicyStatus",headerName:"Insurance Policy Status",flex:1,minWidth:150,editable:!1},{field:"lastPromiseType",headerName:"Last Promise Type",flex:1,minWidth:150,editable:!1},{field:"lastPromiseStatus",headerName:"Last Promise Status",flex:1,minWidth:150,editable:!1},{field:"lastPromiseDate",headerName:"Last Promise Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(v,{params:r})},{field:"lastRepoPostDate",headerName:"Last Repo Post Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(M,{params:r})},{field:"lastTransferDate",headerName:"Last Transfer Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(G,{params:r})},{field:"portfolioID",headerName:"Portfolio ID",flex:1,minWidth:150,editable:!1,valueGetter:r=>r.row.portfolioID||null}];return t.jsx(t.Fragment,{children:t.jsxs(U,{maxWidth:!1,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[t.jsx(ee,{heading:"IDMSSnapshot DataReport",links:[{name:"Dashboard",href:J.dashboard.root},{name:"IDMSSnapshot DataReport"}],action:t.jsx(K,{display:"flex",gap:2,children:t.jsx(Q,{variant:"outlined",startIcon:t.jsx(X,{icon:"material-symbols:refresh"}),onClick:q,children:"Refresh"})}),sx:{mb:{xs:3,md:3}}}),t.jsxs(le,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:[t.jsx(ne,{rowCount:p,rows:u,columns:Y,loading:e,paginationMode:"server",pageSizeOptions:[],hideFooterPagination:!0,disableColumnMenu:!0,slots:{toolbar:()=>t.jsx(t.Fragment,{children:t.jsxs(ie,{children:[t.jsx(k,{filters:n,dateError:h,onFilters:O}),t.jsx(y,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:t.jsx(oe,{})})]})}),noRowsOverlay:()=>t.jsx(b,{title:"No Data"}),noResultsOverlay:()=>t.jsx(b,{title:"No results found"})}}),t.jsx(y,{sx:{p:2,display:"flex",justifyContent:"flex-end",flexDirection:"row"},children:t.jsxs(Z,{variant:"body2",sx:{pr:2},children:["1â€“0 of ",p]})})]})]})})},de=se;function Oe(){return t.jsxs(t.Fragment,{children:[t.jsx(_,{children:t.jsx("title",{children:"Omnique | IDMS Report"})}),t.jsx(de,{})]})}export{Oe as default};
