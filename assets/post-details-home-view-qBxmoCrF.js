import{cT as ue,r as x,cU as fe,h as Ie,j as e,q as Z,f,i as M,C as Fe,M as re,k as r,a as Ae,aW as Et,bZ as Pt,I as It,c$ as Ft,d0 as At,A as K,L as Re,T as y,$ as se,S as m,K as Ne,v as Rt,R as Q,p as P,d as te,g as je,ag as ae,ba as Ye,ah as T,di as Ut,dx as $t,dy as qe,as as Qe,ar as Xe,s as oe,ak as ge,at as et,b9 as Ot,au as me,av as zt,aj as tt,d2 as Mt,V as Se,n as Vt,o as ke,m as _,x as Bt,b0 as Wt,W as Gt,J as Ue,t as Nt,ab as qt,c as st,G as z,cY as _e,l as _t,ac as Ht,a$ as Kt}from"./index-1p47eBME.js";import{A as Zt}from"./Autocomplete-hskIkUhs.js";import{T as ot}from"./TextField-icBS-xTH.js";import{b as be}from"./format-time-u79TBH4b.js";import{c as H}from"./format-number-7FdLUPS1.js";import{I as De}from"./image-BjcSxs5i.js";import{T as Le}from"./text-max-line-T50Cp6Qh.js";import{C as le}from"./Card-ZB6BdyFv.js";import{P as nt,p as Jt}from"./Pagination-2hNK1P-V.js";import{C as it}from"./custom-breadcrumbs-ejdItUPy.js";import{c as rt,a as q,f as Yt,i as He,u as at,F as lt,o as ct,R as ie,r as Qt,s as Xt,m as Ke}from"./rhf-autocomplete-klHnSo8F.js";import{M as $e}from"./markdown-9HVpZ-bB.js";import{E as Oe}from"./empty-content-0I8dksI7.js";import{D as es}from"./DialogActions-6leSuHgX.js";import{L as ve}from"./LoadingButton-w_iRbgq6.js";import{F as xe}from"./FormControlLabel-MfjBOrpQ.js";import{S as Ze}from"./Switch---bTYswk.js";import{C as Je}from"./CardHeader-eNxm5LNN.js";import{C as he}from"./Chip-T2QdivAc.js";import{C as dt}from"./Checkbox-1dGsy0Fk.js";import{A as pt}from"./AvatarGroup-lHCH54zI.js";import{u as ye}from"./index-LN_iJjRn.js";import{C as ts}from"./CardContent-y-qRRHoX.js";import{S as k}from"./Skeleton-Jih7rqwS.js";import{L as ss}from"./ListItem-3gpHZ7x8.js";import"./index-q81m-9gd.js";import{F as mt}from"./Fab-TCoMTNRh.js";const os=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],po=[{value:"latest",label:"Latest"},{value:"popular",label:"Popular"},{value:"oldest",label:"Oldest"}];function mo(){const t=fe.post.list,{data:s,isLoading:o,error:n,isValidating:i}=ye(t,ue);return x.useMemo(()=>({posts:(s==null?void 0:s.posts)||[],postsLoading:o,postsError:n,postsValidating:i,postsEmpty:!o&&!(s!=null&&s.posts.length)}),[s==null?void 0:s.posts,n,o,i])}function ze(t){const s=t?[fe.post.details,{params:{title:t}}]:"",{data:o,isLoading:n,error:i,isValidating:a}=ye(s,ue);return x.useMemo(()=>({post:o==null?void 0:o.post,postLoading:n,postError:i,postValidating:a}),[o==null?void 0:o.post,i,n,a])}function ns(t){const s=t?[fe.post.latest,{params:{title:t}}]:"",{data:o,isLoading:n,error:i,isValidating:a}=ye(s,ue);return x.useMemo(()=>({latestPosts:(o==null?void 0:o.latestPosts)||[],latestPostsLoading:n,latestPostsError:i,latestPostsValidating:a,latestPostsEmpty:!n&&!(o!=null&&o.latestPosts.length)}),[o==null?void 0:o.latestPosts,i,n,a])}function xo(t){const s=t?[fe.post.search,{params:{query:t}}]:"",{data:o,isLoading:n,error:i,isValidating:a}=ye(s,ue,{keepPreviousData:!0});return x.useMemo(()=>({searchResults:(o==null?void 0:o.results)||[],searchLoading:n,searchError:i,searchValidating:a,searchEmpty:!n&&!(o!=null&&o.results.length)}),[o==null?void 0:o.results,i,n,a])}function is({sort:t,sortOptions:s,onSort:o}){const n=Ie();return e.jsxs(e.Fragment,{children:[e.jsxs(Z,{disableRipple:!0,color:"inherit",onClick:n.onOpen,endIcon:e.jsx(f,{icon:n.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold",textTransform:"capitalize"},children:["Sort By:",e.jsx(M,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold"},children:t})]}),e.jsx(Fe,{open:n.open,onClose:n.onClose,sx:{width:140},children:s.map(i=>e.jsx(re,{selected:t===i.value,onClick:()=>{n.onClose(),o(i.value)},children:i.label},i.value))})]})}is.propTypes={onSort:r.func,sort:r.string,sortOptions:r.array};function rs({query:t,results:s,onSearch:o,hrefItem:n,loading:i}){const a=Ae(),d=l=>{a.push(n(l))},h=l=>{t&&l.key==="Enter"&&d(t)};return e.jsx(Zt,{sx:{width:{xs:1,sm:260}},loading:i,autoHighlight:!0,popupIcon:null,options:s,onInputChange:(l,p)=>o(p),getOptionLabel:l=>l.title,noOptionsText:e.jsx(Et,{query:t,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(l,p)=>l.id===p.id,slotProps:{popper:{placement:"bottom-start",sx:{minWidth:320}},paper:{sx:{[` .${Pt.option}`]:{pl:.75}}}},renderInput:l=>e.jsx(ot,{...l,placeholder:"Search...",onKeyUp:h,InputProps:{...l.InputProps,startAdornment:e.jsx(It,{position:"start",children:e.jsx(f,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:e.jsxs(e.Fragment,{children:[i?e.jsx(f,{icon:"svg-spinners:8-dots-rotate",sx:{mr:-3}}):null,l.InputProps.endAdornment]})}}),renderOption:(l,p,{inputValue:c})=>{const w=Ft(p.title,c),C=At(p.title,w);return x.createElement("li",{...l,key:p.id},e.jsx(K,{alt:p.title,src:p.coverUrl,variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},p.id),e.jsx(Re,{underline:"none",onClick:()=>d(p.title),children:C.map((S,b)=>e.jsx(y,{component:"span",color:S.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:S.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:S.text},b))},c))}})}rs.propTypes={hrefItem:r.func,loading:r.bool,onSearch:r.func,query:r.string,results:r.array};function Me({variant:t="vertical",sx:s,...o}){const n=se("up","sm");return t==="horizontal"?e.jsxs(m,{component:Ne,direction:"row",variant:"outlined",sx:{borderRadius:2,...s},...o,children:[e.jsxs(m,{spacing:2,flexGrow:1,sx:{p:3},children:[e.jsxs(m,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(k,{variant:"circular",sx:{width:40,height:40}}),e.jsx(k,{sx:{width:24,height:12}})]}),e.jsx(k,{sx:{width:1,height:10}}),e.jsx(k,{sx:{width:"calc(100% - 40px)",height:10}}),e.jsx(k,{sx:{width:"calc(100% - 80px)",height:10}})]}),n&&e.jsx(m,{sx:{p:1},children:e.jsx(k,{sx:{width:170,height:240,flexShrink:0}})})]}):e.jsxs(m,{component:Ne,variant:"outlined",sx:{borderRadius:2,...s},...o,children:[e.jsx(m,{sx:{p:1},children:e.jsx(k,{sx:{paddingTop:"100%"}})}),e.jsxs(m,{spacing:2,direction:"row",alignItems:"center",sx:{p:3,pt:2},children:[e.jsx(k,{variant:"circular",sx:{width:40,height:40,flexShrink:0}}),e.jsxs(m,{flexGrow:1,spacing:1,children:[e.jsx(k,{sx:{height:10}}),e.jsx(k,{sx:{width:.5,height:10}})]})]})]})}Me.propTypes={sx:r.object,variant:r.string};function xt({...t}){return e.jsxs(m,{...t,children:[e.jsx(k,{variant:"rectangular",sx:{height:480}}),e.jsxs(m,{sx:{width:1,maxWidth:720,mx:"auto"},children:[e.jsxs(m,{spacing:1,sx:{my:8},children:[e.jsx(k,{height:10}),e.jsx(k,{height:10,sx:{width:.9}}),e.jsx(k,{height:10,sx:{width:.8}})]}),e.jsx(k,{sx:{height:720}})]})]})}function ht({post:t}){const s=Ie(),o=Ae(),n=se("up","sm"),{title:i,author:a,publish:d,coverUrl:h,createdAt:l,totalViews:p,totalShares:c,totalComments:w,description:C}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(m,{component:le,direction:"row",children:[e.jsxs(m,{sx:{p:S=>S.spacing(3,3,2,3)},children:[e.jsxs(m,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[e.jsx(Rt,{variant:"soft",color:d==="published"&&"info"||"default",children:d}),e.jsx(M,{component:"span",sx:{typography:"caption",color:"text.disabled"},children:be(l)})]}),e.jsxs(m,{spacing:1,flexGrow:1,children:[e.jsx(Re,{color:"inherit",component:Q,href:P.dashboard.post.details(i),children:e.jsx(Le,{variant:"subtitle2",line:2,children:i})}),e.jsx(Le,{variant:"body2",sx:{color:"text.secondary"},children:C})]}),e.jsxs(m,{direction:"row",alignItems:"center",children:[e.jsx(te,{color:s.open?"inherit":"default",onClick:s.onOpen,children:e.jsx(f,{icon:"eva:more-horizontal-fill"})}),e.jsxs(m,{spacing:1.5,flexGrow:1,direction:"row",flexWrap:"wrap",justifyContent:"flex-end",sx:{typography:"caption",color:"text.disabled"},children:[e.jsxs(m,{direction:"row",alignItems:"center",children:[e.jsx(f,{icon:"eva:message-circle-fill",width:16,sx:{mr:.5}}),H(w)]}),e.jsxs(m,{direction:"row",alignItems:"center",children:[e.jsx(f,{icon:"solar:eye-bold",width:16,sx:{mr:.5}}),H(p)]}),e.jsxs(m,{direction:"row",alignItems:"center",children:[e.jsx(f,{icon:"solar:share-bold",width:16,sx:{mr:.5}}),H(c)]})]})]})]}),n&&e.jsxs(M,{sx:{width:180,height:240,position:"relative",flexShrink:0,p:1},children:[e.jsx(K,{alt:a.name,src:a.avatarUrl,sx:{position:"absolute",top:16,right:16,zIndex:9}}),e.jsx(De,{alt:i,src:h,sx:{height:1,borderRadius:1.5}})]})]}),e.jsxs(Fe,{open:s.open,onClose:s.onClose,arrow:"bottom-center",sx:{width:140},children:[e.jsxs(re,{onClick:()=>{s.onClose(),o.push(P.dashboard.post.details(i))},children:[e.jsx(f,{icon:"solar:eye-bold"}),"View"]}),e.jsxs(re,{onClick:()=>{s.onClose(),o.push(P.dashboard.post.edit(i))},children:[e.jsx(f,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(re,{onClick:()=>{s.onClose()},sx:{color:"error.main"},children:[e.jsx(f,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}ht.propTypes={post:r.shape({author:r.object,coverUrl:r.string,createdAt:r.oneOfType([r.string,r.instanceOf(Date)]),description:r.string,publish:r.string,title:r.string,totalComments:r.number,totalShares:r.number,totalViews:r.number})};function as({posts:t,loading:s}){const o=e.jsx(e.Fragment,{children:[...Array(16)].map((i,a)=>e.jsx(Me,{variant:"horizontal"},a))}),n=e.jsx(e.Fragment,{children:t.map(i=>e.jsx(ht,{post:i},i.id))});return e.jsxs(e.Fragment,{children:[e.jsx(M,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:s?o:n}),t.length>8&&e.jsx(nt,{count:8,sx:{mt:8,[`& .${Jt.ul}`]:{justifyContent:"center"}}})]})}as.propTypes={loading:r.bool,posts:r.array};const ls=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],cs={entering:{transform:"none"},entered:{transform:"none"}},ds=x.forwardRef(function(s,o){const n=je(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:d=!0,children:h,easing:l,in:p,onEnter:c,onEntered:w,onEntering:C,onExit:S,onExited:b,onExiting:I,style:F,timeout:R=i,TransitionComponent:U=Ut}=s,$=ae(s,ls),O=x.useRef(null),V=Ye(O,h.ref,o),j=g=>L=>{if(g){const B=O.current;L===void 0?g(B):g(B,L)}},v=j(C),D=j((g,L)=>{$t(g);const B=qe({style:F,timeout:R,easing:l},{mode:"enter"});g.style.webkitTransition=n.transitions.create("transform",B),g.style.transition=n.transitions.create("transform",B),c&&c(g,L)}),J=j(w),A=j(I),G=j(g=>{const L=qe({style:F,timeout:R,easing:l},{mode:"exit"});g.style.webkitTransition=n.transitions.create("transform",L),g.style.transition=n.transitions.create("transform",L),S&&S(g)}),X=j(b),ee=g=>{a&&a(O.current,g)};return e.jsx(U,T({appear:d,in:p,nodeRef:O,onEnter:D,onEntered:J,onEntering:v,onExit:G,onExited:X,onExiting:A,addEndListener:ee,timeout:R},$,{children:(g,L)=>x.cloneElement(h,T({style:T({transform:"scale(0)",visibility:g==="exited"&&!p?"hidden":void 0},cs[g],F,h.props.style),ref:V},L))}))}),ps=ds;function ms(t){return Xe("MuiSpeedDial",t)}const xs=Qe("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),de=xs,hs=["ref"],us=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],fs=["ref"],js=t=>{const{classes:s,open:o,direction:n}=t,i={root:["root",`direction${ge(n)}`],fab:["fab"],actions:["actions",!o&&"actionsClosed"]};return tt(i,ms,s)};function ne(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}function gs(t,s,o){return t<s?s:t>o?o:t}const N=32,pe=16,bs=oe("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,s[`direction${ge(o.direction)}`]]}})(({theme:t,ownerState:s})=>T({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},s.direction==="up"&&{flexDirection:"column-reverse",[`& .${de.actions}`]:{flexDirection:"column-reverse",marginBottom:-N,paddingBottom:pe+N}},s.direction==="down"&&{flexDirection:"column",[`& .${de.actions}`]:{flexDirection:"column",marginTop:-N,paddingTop:pe+N}},s.direction==="left"&&{flexDirection:"row-reverse",[`& .${de.actions}`]:{flexDirection:"row-reverse",marginRight:-N,paddingRight:pe+N}},s.direction==="right"&&{flexDirection:"row",[`& .${de.actions}`]:{flexDirection:"row",marginLeft:-N,paddingLeft:pe+N}})),vs=oe(mt,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,s)=>s.fab})(()=>({pointerEvents:"auto"})),ys=oe("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.actions,!o.open&&s.actionsClosed]}})(({ownerState:t})=>T({display:"flex",pointerEvents:"auto"},!t.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),ws=x.forwardRef(function(s,o){const n=et({props:s,name:"MuiSpeedDial"}),i=je(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:d,FabProps:{ref:h}={},children:l,className:p,direction:c="up",hidden:w=!1,icon:C,onBlur:S,onClose:b,onFocus:I,onKeyDown:F,onMouseEnter:R,onMouseLeave:U,onOpen:$,open:O,TransitionComponent:V=ps,transitionDuration:j=a,TransitionProps:v}=n,D=ae(n.FabProps,hs),J=ae(n,us),[A,G]=Ot({controlled:O,default:!1,name:"SpeedDial",state:"open"}),X=T({},n,{open:A,direction:c}),ee=js(X),g=x.useRef();x.useEffect(()=>()=>{clearTimeout(g.current)},[]);const L=x.useRef(0),B=x.useRef(),Y=x.useRef([]);Y.current=[Y.current[0]];const yt=x.useCallback(u=>{Y.current[0]=u},[]),wt=Ye(h,yt),Ct=(u,E)=>W=>{Y.current[u+1]=W,E&&E(W)},Tt=u=>{F&&F(u);const E=u.key.replace("Arrow","").toLowerCase(),{current:W=E}=B;if(u.key==="Escape"){G(!1),Y.current[0].focus(),b&&b(u,"escapeKeyDown");return}if(ne(E)===ne(W)&&ne(E)!==void 0){u.preventDefault();const Te=E===W?1:-1,ce=gs(L.current+Te,0,Y.current.length-1);Y.current[ce].focus(),L.current=ce,B.current=W}};x.useEffect(()=>{A||(L.current=0,B.current=void 0)},[A]);const Be=u=>{u.type==="mouseleave"&&U&&U(u),u.type==="blur"&&S&&S(u),clearTimeout(g.current),u.type==="blur"?g.current=setTimeout(()=>{G(!1),b&&b(u,"blur")}):(G(!1),b&&b(u,"mouseLeave"))},St=u=>{D.onClick&&D.onClick(u),clearTimeout(g.current),A?(G(!1),b&&b(u,"toggle")):(G(!0),$&&$(u,"toggle"))},We=u=>{u.type==="mouseenter"&&R&&R(u),u.type==="focus"&&I&&I(u),clearTimeout(g.current),A||(g.current=setTimeout(()=>{G(!0),$&&$(u,{focus:"focus",mouseenter:"mouseEnter"}[u.type])}))},Ce=d.replace(/^[^a-z]+|[^\w:.-]+/gi,""),Ge=x.Children.toArray(l).filter(u=>x.isValidElement(u)),kt=Ge.map((u,E)=>{const W=u.props,{FabProps:{ref:Te}={},tooltipPlacement:ce}=W,Dt=ae(W.FabProps,fs),Lt=ce||(ne(c)==="vertical"?"left":"top");return x.cloneElement(u,{FabProps:T({},Dt,{ref:Ct(E,Te)}),delay:30*(A?E:Ge.length-E),open:A,tooltipPlacement:Lt,id:`${Ce}-action-${E}`})});return e.jsxs(bs,T({className:me(ee.root,p),ref:o,role:"presentation",onKeyDown:Tt,onBlur:Be,onFocus:We,onMouseEnter:We,onMouseLeave:Be,ownerState:X},J,{children:[e.jsx(V,T({in:!w,timeout:j,unmountOnExit:!0},v,{children:e.jsx(vs,T({color:"primary","aria-label":d,"aria-haspopup":"true","aria-expanded":A,"aria-controls":`${Ce}-actions`},D,{onClick:St,className:me(ee.fab,D.className),ref:wt,ownerState:X,children:x.isValidElement(C)&&zt(C,["SpeedDialIcon"])?x.cloneElement(C,{open:A}):C}))})),e.jsx(ys,{id:`${Ce}-actions`,role:"menu","aria-orientation":ne(c),className:me(ee.actions,!A&&ee.actionsClosed),ownerState:X,children:kt})]}))}),Cs=ws;function Ts(t){return Xe("MuiSpeedDialAction",t)}const Ss=Qe("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),ks=Ss,Ds=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],Ls=t=>{const{open:s,tooltipPlacement:o,classes:n}=t,i={fab:["fab",!s&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${ge(o)}`,!s&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return tt(i,Ts,n)},Es=oe(mt,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.fab,!o.open&&s.fabClosed]}})(({theme:t,ownerState:s})=>T({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:Mt(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!s.open&&{opacity:0,transform:"scale(0)"})),Ps=oe("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.staticTooltip,!o.open&&s.staticTooltipClosed,s[`tooltipPlacement${ge(o.tooltipPlacement)}`]]}})(({theme:t,ownerState:s})=>({position:"relative",display:"flex",alignItems:"center",[`& .${ks.staticTooltipLabel}`]:T({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},!s.open&&{opacity:0,transform:"scale(0.5)"},s.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},s.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),Is=oe("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,s)=>s.staticTooltipLabel})(({theme:t})=>T({position:"absolute"},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),Fs=x.forwardRef(function(s,o){const n=et({props:s,name:"MuiSpeedDialAction"}),{className:i,delay:a=0,FabProps:d={},icon:h,id:l,open:p,TooltipClasses:c,tooltipOpen:w=!1,tooltipPlacement:C="left",tooltipTitle:S}=n,b=ae(n,Ds),I=T({},n,{tooltipPlacement:C}),F=Ls(I),[R,U]=x.useState(w),$=()=>{U(!1)},O=()=>{U(!0)},V={transitionDelay:`${a}ms`},j=e.jsx(Es,T({size:"small",className:me(F.fab,i),tabIndex:-1,role:"menuitem",ownerState:I},d,{style:T({},V,d.style),children:h}));return w?e.jsxs(Ps,T({id:l,ref:o,className:F.staticTooltip,ownerState:I},b,{children:[e.jsx(Is,{style:V,id:`${l}-label`,className:F.staticTooltipLabel,ownerState:I,children:S}),x.cloneElement(j,{"aria-labelledby":`${l}-label`})]})):(!p&&R&&U(!1),e.jsx(Se,T({id:l,ref:o,title:S,placement:C,onClose:$,onOpen:O,open:p&&R,classes:c},b,{children:j})))}),As=Fs;function we({title:t,author:s,coverUrl:o,createdAt:n}){const i=je(),a=se("up","sm");return e.jsx(M,{sx:{height:480,overflow:"hidden",...Vt({imgUrl:o,startColor:`${ke(i.palette.grey[900],.64)} 0%`,endColor:`${ke(i.palette.grey[900],.64)} 100%`})},children:e.jsxs(_,{sx:{height:1,position:"relative"},children:[e.jsx(y,{variant:"h3",component:"h1",sx:{zIndex:9,color:"common.white",position:"absolute",maxWidth:480,pt:{xs:2,md:8}},children:t}),e.jsxs(m,{sx:{left:0,width:1,bottom:0,position:"absolute"},children:[s&&n&&e.jsxs(m,{direction:"row",alignItems:"center",sx:{px:{xs:2,md:3},pb:{xs:3,md:8}},children:[e.jsx(K,{alt:s.name,src:s.avatarUrl,sx:{width:64,height:64,mr:2}}),e.jsx(Bt,{sx:{color:"common.white"},primary:s.name,secondary:be(n),primaryTypographyProps:{typography:"subtitle1",mb:.5},secondaryTypographyProps:{color:"inherit",sx:{opacity:.64}}})]}),e.jsx(Cs,{direction:a?"left":"up",ariaLabel:"Share post",icon:e.jsx(f,{icon:"solar:share-bold"}),FabProps:{size:"medium"},sx:{position:"absolute",bottom:{xs:32,md:64},right:{xs:16,md:24}},children:Wt.map(d=>e.jsx(As,{icon:e.jsx(f,{icon:d.icon,sx:{color:d.color}}),tooltipTitle:d.name,tooltipPlacement:"top",FabProps:{color:"default"}},d.name))})]})]})})}we.propTypes={author:r.object,coverUrl:r.string,createdAt:r.string,title:r.string};function ut({title:t,coverUrl:s,content:o,description:n,open:i,isValid:a,onClose:d,onSubmit:h,isSubmitting:l}){const p=t||n||o||s,c=t||s;return e.jsxs(Gt,{fullScreen:!0,open:i,onClose:d,children:[e.jsxs(es,{sx:{py:2,px:3},children:[e.jsx(y,{variant:"h6",sx:{flexGrow:1},children:"Preview"}),e.jsx(Z,{variant:"outlined",color:"inherit",onClick:d,children:"Cancel"}),e.jsx(ve,{type:"submit",variant:"contained",disabled:!a,loading:l,onClick:h,children:"Post"})]}),e.jsx(Ue,{}),p?e.jsxs(Nt,{children:[c&&e.jsx(we,{title:t,coverUrl:s}),e.jsx(_,{sx:{mt:5,mb:10},children:e.jsxs(m,{sx:{maxWidth:720,mx:"auto"},children:[e.jsx(y,{variant:"h6",sx:{mb:5},children:n}),e.jsx($e,{children:o})]})})]}):e.jsx(Oe,{filled:!0,title:"Empty Content!"})]})}ut.propTypes={content:r.string,coverUrl:r.string,description:r.string,isSubmitting:r.bool,isValid:r.bool,onClose:r.func,onSubmit:r.func,open:r.bool,title:r.string};function ft({currentPost:t}){var V;const s=Ae(),o=se("up","md"),{enqueueSnackbar:n}=qt(),i=st(),a=rt().shape({title:q().required("Title is required"),description:q().required("Description is required"),content:q().required("Content is required"),coverUrl:Yt().nullable().required("Cover is required"),tags:He().min(2,"Must have at least 2 tags"),metaKeywords:He().min(1,"Meta keywords is required"),metaTitle:q(),metaDescription:q()}),d=x.useMemo(()=>({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",content:(t==null?void 0:t.content)||"",coverUrl:(t==null?void 0:t.coverUrl)||null,tags:(t==null?void 0:t.tags)||[],metaKeywords:(t==null?void 0:t.metaKeywords)||[],metaTitle:(t==null?void 0:t.metaTitle)||"",metaDescription:(t==null?void 0:t.metaDescription)||""}),[t]),h=at({resolver:ct(a),defaultValues:d}),{reset:l,watch:p,setValue:c,handleSubmit:w,formState:{isSubmitting:C,isValid:S}}=h,b=p();x.useEffect(()=>{t&&l(d)},[t,d,l]);const I=w(async j=>{try{await new Promise(v=>setTimeout(v,500)),l(),i.onFalse(),n(t?"Update success!":"Create success!"),s.push(P.dashboard.post.root),console.info("DATA",j)}catch(v){console.error(v)}}),F=x.useCallback(j=>{const v=j[0],D=Object.assign(v,{preview:URL.createObjectURL(v)});v&&c("coverUrl",D,{shouldValidate:!0})},[c]),R=x.useCallback(()=>{c("coverUrl",null)},[c]),U=e.jsxs(e.Fragment,{children:[o&&e.jsxs(z,{md:4,children:[e.jsx(y,{variant:"h6",sx:{mb:.5},children:"Details"}),e.jsx(y,{variant:"body2",sx:{color:"text.secondary"},children:"Title, short description, image..."})]}),e.jsx(z,{xs:12,md:8,children:e.jsxs(le,{children:[!o&&e.jsx(Je,{title:"Details"}),e.jsxs(m,{spacing:3,sx:{p:3},children:[e.jsx(ie,{name:"title",label:"Post Title"}),e.jsx(ie,{name:"description",label:"Description",multiline:!0,rows:3}),e.jsxs(m,{spacing:1.5,children:[e.jsx(y,{variant:"subtitle2",children:"Content"}),e.jsx(Qt,{simple:!0,name:"content"})]}),e.jsxs(m,{spacing:1.5,children:[e.jsx(y,{variant:"subtitle2",children:"Cover"}),e.jsx(Xt,{name:"coverUrl",maxSize:3145728,onDrop:F,onDelete:R})]})]})]})})]}),$=e.jsxs(e.Fragment,{children:[o&&e.jsxs(z,{md:4,children:[e.jsx(y,{variant:"h6",sx:{mb:.5},children:"Properties"}),e.jsx(y,{variant:"body2",sx:{color:"text.secondary"},children:"Additional functions and attributes..."})]}),e.jsx(z,{xs:12,md:8,children:e.jsxs(le,{children:[!o&&e.jsx(Je,{title:"Properties"}),e.jsxs(m,{spacing:3,sx:{p:3},children:[e.jsx(Ke,{name:"tags",label:"Tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,options:_e.map(j=>j),getOptionLabel:j=>j,renderOption:(j,v)=>x.createElement("li",{...j,key:v},v),renderTags:(j,v)=>j.map((D,J)=>x.createElement(he,{...v({index:J}),key:D,label:D,size:"small",color:"info",variant:"soft"}))}),e.jsx(ie,{name:"metaTitle",label:"Meta title"}),e.jsx(ie,{name:"metaDescription",label:"Meta description",fullWidth:!0,multiline:!0,rows:3}),e.jsx(Ke,{name:"metaKeywords",label:"Meta keywords",placeholder:"+ Keywords",multiple:!0,freeSolo:!0,disableCloseOnSelect:!0,options:_e.map(j=>j),getOptionLabel:j=>j,renderOption:(j,v)=>x.createElement("li",{...j,key:v},v),renderTags:(j,v)=>j.map((D,J)=>x.createElement(he,{...v({index:J}),key:D,label:D,size:"small",color:"info",variant:"soft"}))}),e.jsx(xe,{control:e.jsx(Ze,{defaultChecked:!0}),label:"Enable comments"})]})]})})]}),O=e.jsxs(e.Fragment,{children:[o&&e.jsx(z,{md:4}),e.jsxs(z,{xs:12,md:8,sx:{display:"flex",alignItems:"center"},children:[e.jsx(xe,{control:e.jsx(Ze,{defaultChecked:!0}),label:"Publish",sx:{flexGrow:1,pl:3}}),e.jsx(Z,{color:"inherit",variant:"outlined",size:"large",onClick:i.onTrue,children:"Preview"}),e.jsx(ve,{type:"submit",variant:"contained",size:"large",loading:C,sx:{ml:2},children:t?"Save Changes":"Create Post"})]})]});return e.jsxs(lt,{methods:h,onSubmit:I,children:[e.jsxs(z,{container:!0,spacing:3,children:[U,$,O]}),e.jsx(ut,{title:b.title,content:b.content,description:b.description,coverUrl:typeof b.coverUrl=="string"?b.coverUrl:`${(V=b.coverUrl)==null?void 0:V.preview}`,open:i.value,isValid:S,isSubmitting:C,onClose:i.onFalse,onSubmit:I})]})}ft.propTypes={currentPost:r.object};function Rs({title:t}){const s=_t(),{post:o}=ze(`${t}`);return e.jsxs(_,{maxWidth:s.themeStretch?!1:"lg",children:[e.jsx(it,{heading:"Edit",links:[{name:"Dashboard",href:P.dashboard.root},{name:"Blog",href:P.dashboard.post.root},{name:o==null?void 0:o.title}],sx:{mb:{xs:3,md:5}}}),e.jsx(ft,{currentPost:o})]})}Rs.propTypes={title:r.string};function Ee({name:t,avatarUrl:s,message:o,tagUser:n,postedAt:i,hasReply:a}){const d=st();return e.jsxs(ss,{sx:{p:0,pt:3,alignItems:"flex-start",...a&&{pl:8}},children:[e.jsx(K,{alt:t,src:s,sx:{mr:2,width:48,height:48}}),e.jsxs(m,{flexGrow:1,sx:{pb:3,borderBottom:h=>`solid 1px ${h.palette.divider}`},children:[e.jsx(y,{variant:"subtitle2",sx:{mb:.5},children:t}),e.jsx(y,{variant:"caption",sx:{color:"text.disabled"},children:be(i)}),e.jsxs(y,{variant:"body2",sx:{mt:1},children:[n&&e.jsxs(M,{component:"strong",sx:{mr:.5},children:["@",n]}),o]}),d.value&&e.jsx(M,{sx:{mt:2},children:e.jsx(ot,{fullWidth:!0,autoFocus:!0,placeholder:"Write comment..."})})]}),!a&&e.jsx(Z,{size:"small",color:d.value?"primary":"inherit",startIcon:e.jsx(f,{icon:"solar:pen-bold",width:16}),onClick:d.onToggle,sx:{right:0,position:"absolute"},children:"Reply"})]})}Ee.propTypes={avatarUrl:r.string,hasReply:r.bool,message:r.string,name:r.string,postedAt:r.string,tagUser:r.string};function Ve({comments:t}){return e.jsxs(e.Fragment,{children:[e.jsx(e.Fragment,{children:t.map(s=>{const{id:o,replyComment:n,name:i,users:a,message:d,avatarUrl:h,postedAt:l}=s,p=!!n.length;return e.jsxs(M,{children:[e.jsx(Ee,{name:i,message:d,postedAt:l,avatarUrl:h}),p&&n.map(c=>{const w=a.find(C=>C.id===c.userId);return e.jsx(Ee,{name:(w==null?void 0:w.name)||"",message:c.message,postedAt:c.postedAt,avatarUrl:(w==null?void 0:w.avatarUrl)||"",tagUser:c.tagUser,hasReply:!0},c.id)})]},o)})}),e.jsx(nt,{count:8,sx:{my:5,mx:"auto"}})]})}Ve.propTypes={comments:r.array};function jt(){const t=rt().shape({comment:q().required("Comment is required"),name:q().required("Name is required"),email:q().required("Email is required").email("Email must be a valid email address")}),s={comment:"",name:"",email:""},o=at({resolver:ct(t),defaultValues:s}),{reset:n,handleSubmit:i,formState:{isSubmitting:a}}=o,d=i(async h=>{try{await new Promise(l=>setTimeout(l,500)),n(),console.info("DATA",h)}catch(l){console.error(l)}});return e.jsx(lt,{methods:o,onSubmit:d,children:e.jsxs(m,{spacing:3,children:[e.jsx(ie,{name:"comment",placeholder:"Write some of your comments...",multiline:!0,rows:4}),e.jsxs(m,{direction:"row",alignItems:"center",children:[e.jsxs(m,{direction:"row",alignItems:"center",flexGrow:1,children:[e.jsx(te,{children:e.jsx(f,{icon:"solar:gallery-add-bold"})}),e.jsx(te,{children:e.jsx(f,{icon:"eva:attach-2-fill"})}),e.jsx(te,{children:e.jsx(f,{icon:"eva:smiling-face-fill"})})]}),e.jsx(ve,{type:"submit",variant:"contained",loading:a,children:"Post comment"})]})]})})}function gt({publish:t,backLink:s,editLink:o,liveLink:n,publishOptions:i,onChangePublish:a,sx:d,...h}){const l=Ie();return e.jsxs(e.Fragment,{children:[e.jsxs(m,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...d},...h,children:[e.jsx(Z,{component:Q,href:s,startIcon:e.jsx(f,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),e.jsx(M,{sx:{flexGrow:1}}),t==="published"&&e.jsx(Se,{title:"Go Live",children:e.jsx(te,{component:Q,href:n,children:e.jsx(f,{icon:"eva:external-link-fill"})})}),e.jsx(Se,{title:"Edit",children:e.jsx(te,{component:Q,href:o,children:e.jsx(f,{icon:"solar:pen-bold"})})}),e.jsx(ve,{color:"inherit",variant:"contained",loading:!t,loadingIndicator:"Loading…",endIcon:e.jsx(f,{icon:"eva:arrow-ios-downward-fill"}),onClick:l.onOpen,sx:{textTransform:"capitalize"},children:t})]}),e.jsx(Fe,{open:l.open,onClose:l.onClose,arrow:"top-right",sx:{width:140},children:i.map(p=>e.jsxs(re,{selected:p.value===t,onClick:()=>{l.onClose(),a(p.value)},children:[p.value==="published"&&e.jsx(f,{icon:"eva:cloud-upload-fill"}),p.value==="draft"&&e.jsx(f,{icon:"solar:file-text-bold"}),p.label]},p.value))})]})}gt.propTypes={backLink:r.string,editLink:r.string,liveLink:r.string,onChangePublish:r.func,publish:r.string,publishOptions:r.array,sx:r.object};function Us({title:t}){const[s,o]=x.useState(""),{post:n,postLoading:i,postError:a}=ze(t),d=x.useCallback(c=>{o(c)},[]);x.useEffect(()=>{n&&o(n==null?void 0:n.publish)},[n]);const h=e.jsx(xt,{}),l=e.jsx(Oe,{filled:!0,title:`${a==null?void 0:a.message}`,action:e.jsx(Z,{component:Q,href:P.dashboard.post.root,startIcon:e.jsx(f,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:20}}),p=n&&e.jsxs(e.Fragment,{children:[e.jsx(gt,{backLink:P.dashboard.post.root,editLink:P.dashboard.post.edit(`${n==null?void 0:n.title}`),liveLink:P.post.details(`${n==null?void 0:n.title}`),publish:s||"",onChangePublish:d,publishOptions:os}),e.jsx(we,{title:n.title,coverUrl:n.coverUrl}),e.jsxs(m,{sx:{maxWidth:720,mx:"auto",mt:{xs:5,md:10}},children:[e.jsx(y,{variant:"subtitle1",sx:{mb:5},children:n.description}),e.jsx($e,{children:n.content}),e.jsxs(m,{spacing:3,sx:{py:3,borderTop:c=>`dashed 1px ${c.palette.divider}`,borderBottom:c=>`dashed 1px ${c.palette.divider}`},children:[e.jsx(m,{direction:"row",flexWrap:"wrap",spacing:1,children:n.tags.map(c=>e.jsx(he,{label:c,variant:"soft"},c))}),e.jsxs(m,{direction:"row",alignItems:"center",children:[e.jsx(xe,{control:e.jsx(dt,{defaultChecked:!0,size:"small",color:"error",icon:e.jsx(f,{icon:"solar:heart-bold"}),checkedIcon:e.jsx(f,{icon:"solar:heart-bold"})}),label:H(n.totalFavorites),sx:{mr:1}}),e.jsx(pt,{sx:{[`& .${Ht.avatar}`]:{width:32,height:32}},children:n.favoritePerson.map(c=>e.jsx(K,{alt:c.name,src:c.avatarUrl},c.name))})]})]}),e.jsxs(m,{direction:"row",sx:{mb:3,mt:5},children:[e.jsx(y,{variant:"h4",children:"Comments"}),e.jsxs(y,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",n.comments.length,")"]})]}),e.jsx(jt,{}),e.jsx(Ue,{sx:{mt:5,mb:2}}),e.jsx(Ve,{comments:n.comments})]})]});return e.jsxs(_,{maxWidth:!1,children:[i&&h,a&&l,n&&p]})}Us.propTypes={title:r.string};function bt({post:t,index:s}){const o=je(),n=se("up","md"),{coverUrl:i,title:a,totalViews:d,totalComments:h,totalShares:l,author:p,createdAt:c}=t;return n&&(s===0||s===1||s===2)?e.jsxs(le,{children:[e.jsx(K,{alt:p.name,src:p.avatarUrl,sx:{top:24,left:24,zIndex:9,position:"absolute"}}),e.jsx(Pe,{title:a,createdAt:c,totalViews:d,totalShares:l,totalComments:h,index:s}),e.jsx(De,{alt:a,src:i,overlay:ke(o.palette.grey[900],.48),sx:{width:1,height:360}})]}):e.jsxs(le,{children:[e.jsxs(M,{sx:{position:"relative"},children:[e.jsx(Kt,{sx:{left:0,zIndex:9,width:88,height:36,bottom:-16,position:"absolute"}}),e.jsx(K,{alt:p.name,src:p.avatarUrl,sx:{left:24,zIndex:9,bottom:-24,position:"absolute"}}),e.jsx(De,{alt:a,src:i,ratio:"4/3"})]}),e.jsx(Pe,{title:a,totalViews:d,totalComments:h,totalShares:l,createdAt:c})]})}bt.propTypes={index:r.number,post:r.object};function Pe({title:t,createdAt:s,totalViews:o,totalShares:n,totalComments:i,index:a}){const d=se("up","md"),h=P.post.details(t),l=a===0,p=a===1||a===2;return e.jsxs(ts,{sx:{pt:6,width:1,...(l||p)&&{pt:0,zIndex:9,bottom:0,position:"absolute",color:"common.white"}},children:[e.jsx(y,{variant:"caption",component:"div",sx:{mb:1,color:"text.disabled",...(l||p)&&{opacity:.64,color:"common.white"}},children:be(s)}),e.jsx(Re,{color:"inherit",component:Q,href:h,children:e.jsx(Le,{variant:d&&l?"h5":"subtitle2",line:2,persistent:!0,children:t})}),e.jsxs(m,{spacing:1.5,direction:"row",justifyContent:"flex-end",sx:{mt:3,typography:"caption",color:"text.disabled",...(l||p)&&{opacity:.64,color:"common.white"}},children:[e.jsxs(m,{direction:"row",alignItems:"center",children:[e.jsx(f,{icon:"eva:message-circle-fill",width:16,sx:{mr:.5}}),H(i)]}),e.jsxs(m,{direction:"row",alignItems:"center",children:[e.jsx(f,{icon:"solar:eye-bold",width:16,sx:{mr:.5}}),H(o)]}),e.jsxs(m,{direction:"row",alignItems:"center",children:[e.jsx(f,{icon:"solar:share-bold",width:16,sx:{mr:.5}}),H(n)]})]})]})}Pe.propTypes={createdAt:r.string,index:r.number,title:r.string,totalComments:r.number,totalShares:r.number,totalViews:r.number};function vt({posts:t,loading:s,disabledIndex:o}){const n=e.jsx(e.Fragment,{children:[...Array(16)].map((a,d)=>e.jsx(z,{xs:12,sm:6,md:3,children:e.jsx(Me,{})},d))}),i=e.jsx(e.Fragment,{children:t.map((a,d)=>e.jsx(z,{xs:12,sm:6,md:!o&&d===0?6:3,children:e.jsx(bt,{post:a,index:o?void 0:d})},a.id))});return e.jsxs(e.Fragment,{children:[e.jsx(z,{container:!0,spacing:3,children:s?n:i}),t.length>8&&e.jsx(m,{alignItems:"center",sx:{mt:8,mb:{xs:10,md:15}},children:e.jsx(Z,{size:"large",variant:"outlined",startIcon:e.jsx(f,{icon:"svg-spinners:12-dots-scale-rotate",width:24}),children:"Load More"})})]})}vt.propTypes={disabledIndex:r.bool,loading:r.bool,posts:r.array};function $s({title:t}){const{post:s,postError:o,postLoading:n}=ze(t),{latestPosts:i,latestPostsLoading:a}=ns(t),d=e.jsx(xt,{}),h=e.jsx(_,{sx:{my:10},children:e.jsx(Oe,{filled:!0,title:`${o==null?void 0:o.message}`,action:e.jsx(Z,{component:Q,href:P.post.root,startIcon:e.jsx(f,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:10}})}),l=s&&e.jsxs(e.Fragment,{children:[e.jsx(we,{title:s.title,author:s.author,coverUrl:s.coverUrl,createdAt:s.createdAt}),e.jsx(_,{maxWidth:!1,sx:{py:3,mb:5,borderBottom:c=>`solid 1px ${c.palette.divider}`},children:e.jsx(it,{links:[{name:"Home",href:"/"},{name:"Blog",href:P.post.root},{name:s==null?void 0:s.title}],sx:{maxWidth:720,mx:"auto"}})}),e.jsx(_,{maxWidth:!1,children:e.jsxs(m,{sx:{maxWidth:720,mx:"auto"},children:[e.jsx(y,{variant:"subtitle1",sx:{mb:5},children:s.description}),e.jsx($e,{children:s.content}),e.jsxs(m,{spacing:3,sx:{py:3,borderTop:c=>`dashed 1px ${c.palette.divider}`,borderBottom:c=>`dashed 1px ${c.palette.divider}`},children:[e.jsx(m,{direction:"row",flexWrap:"wrap",spacing:1,children:s.tags.map(c=>e.jsx(he,{label:c,variant:"soft"},c))}),e.jsxs(m,{direction:"row",alignItems:"center",children:[e.jsx(xe,{control:e.jsx(dt,{defaultChecked:!0,size:"small",color:"error",icon:e.jsx(f,{icon:"solar:heart-bold"}),checkedIcon:e.jsx(f,{icon:"solar:heart-bold"})}),label:H(s.totalFavorites),sx:{mr:1}}),e.jsx(pt,{children:s.favoritePerson.map(c=>e.jsx(K,{alt:c.name,src:c.avatarUrl},c.name))})]})]}),e.jsxs(m,{direction:"row",sx:{mb:3,mt:5},children:[e.jsx(y,{variant:"h4",children:"Comments"}),e.jsxs(y,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",s.comments.length,")"]})]}),e.jsx(jt,{}),e.jsx(Ue,{sx:{mt:5,mb:2}}),e.jsx(Ve,{comments:s.comments})]})})]}),p=e.jsxs(e.Fragment,{children:[e.jsx(y,{variant:"h4",sx:{mb:5},children:"Recent Posts"}),e.jsx(vt,{posts:i.slice(i.length-4),loading:a,disabledIndex:!0})]});return e.jsxs(e.Fragment,{children:[n&&d,o&&h,s&&l,e.jsx(_,{sx:{pb:15},children:!!i.length&&p})]})}$s.propTypes={title:r.string};export{rs as P,xo as a,is as b,po as c,as as d,Us as e,ft as f,Rs as g,vt as h,$s as i,mo as u};
