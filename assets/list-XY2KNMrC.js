import{ab as U,l as k,a as D,c as L,r as i,aS as A,am as B,p as g,j as s,m as E,q as j,R as I,f as P,o as N,v as O,aT as _,V as H,d as q,t as z,aU as V,H as W}from"./index-uVPesBhw.js";import{e as $,f as G,g as J}from"./profile-followers-MMuMjoOm.js";import{C as K}from"./confirm-dialog-NM2unwL7.js";import{C as M}from"./custom-breadcrumbs-Rqwg7UbT.js";import{g as Q,e as X}from"./utils-nxuioVAh.js";import{u as Y}from"./use-table-WcdCVV6f.js";import{b as Z,T as ee,c as se,d as te,e as oe}from"./table-pagination-custom-PPf52iAX.js";import{C as ae}from"./Card-QTOBqWMl.js";import{T as re,a as le}from"./Tabs-tSc9GGvc.js";import{T as ne,a as ie,b as de}from"./TableContainer-3VCdXWXH.js";import"./rhf-autocomplete-5Uw6YpQo.js";import"./upload-avatar-aymVGQ5p.js";import"./format-number-3EYmo-7I.js";import"./fade-vJ_J52Dp.js";import"./image-jbSAXA7W.js";import"./TextField-6Hu2b-ia.js";import"./Select-h7D7IbQZ.js";import"./index-q81m-9gd.js";import"./Checkbox-vyQH2krq.js";import"./SwitchBase-QymJLNnm.js";import"./Chip-pgpphWrt.js";import"./FormControlLabel-qE9_3HQs.js";import"./Switch-5dMY5RB3.js";import"./editor-U9vgOqZs.js";import"./Radio-g2uW7Fu8.js";import"./Autocomplete-Zz-xxO4T.js";import"./Close-7VtSoPDS.js";import"./LoadingButton-27vfNiU5.js";import"./CircularProgress-unPeuAqy.js";import"./DialogTitle-HqGwd4su.js";import"./dialogTitleClasses-p44UBkdB.js";import"./DialogContent-jaURAAiw.js";import"./Alert-FIrZ-8cR.js";import"./DialogActions-iKqfrBTk.js";import"./TablePagination-scXfEMot.js";import"./KeyboardArrowRight-Lm6xRPbL.js";import"./FirstPage-qArXKF-z.js";import"./format-time-W2DnIC3m.js";import"./CardHeader-jsaOwpX9.js";import"./AvatarGroup-OwmVVOB-.js";import"./Fab-QwVbt80o.js";import"./use-light-box-HVAZ8Xox.js";import"./empty-content-IdzMNrs-.js";const ce=[{value:"all",label:"All"},...V],me=[{id:"name",label:"Name"},{id:"phoneNumber",label:"Phone Number",width:180},{id:"company",label:"Company",width:220},{id:"role",label:"Role",width:180},{id:"status",label:"Status",width:100},{id:"",width:88}],w={name:"",role:[],status:"all"};function he(){const{enqueueSnackbar:r}=U(),e=Y(),x=k(),m=D(),d=L(),[n,h]=i.useState(A),[o,c]=i.useState(w),a=ue({inputData:n,comparator:Q(e.order,e.orderBy),filters:o}),u=a.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),R=e.dense?56:76,f=!B(w,o),C=!a.length&&f||!a.length,p=i.useCallback((t,l)=>{e.onResetPage(),c(b=>({...b,[t]:l}))},[e]),T=i.useCallback(()=>{c(w)},[]),S=i.useCallback(t=>{const l=n.filter(b=>b.id!==t);r("Delete success!"),h(l),e.onUpdatePageDeleteRow(u.length)},[u.length,r,e,n]),v=i.useCallback(()=>{const t=n.filter(l=>!e.selected.includes(l.id));r("Delete success!"),h(t),e.onUpdatePageDeleteRows({totalRowsInPage:u.length,totalRowsFiltered:a.length})},[a.length,u.length,r,e,n]),F=i.useCallback(t=>{m.push(g.dashboard.user.edit(t))},[m]),y=i.useCallback((t,l)=>{p("status",l)},[p]);return s.jsxs(s.Fragment,{children:[s.jsxs(E,{maxWidth:x.themeStretch?!1:"lg",children:[s.jsx(M,{heading:"List",links:[{name:"Dashboard",href:g.dashboard.root},{name:"User",href:g.dashboard.user.root},{name:"List"}],action:s.jsx(j,{component:I,href:g.dashboard.user.new,variant:"contained",startIcon:s.jsx(P,{icon:"mingcute:add-line"}),children:"New User"}),sx:{mb:{xs:3,md:5}}}),s.jsxs(ae,{children:[s.jsx(re,{value:o.status,onChange:y,sx:{px:2.5,boxShadow:t=>`inset 0 -2px 0 0 ${N(t.palette.grey[500],.08)}`},children:ce.map(t=>s.jsx(le,{iconPosition:"end",value:t.value,label:t.label,icon:s.jsx(O,{variant:(t.value==="all"||t.value===o.status)&&"filled"||"soft",color:t.value==="active"&&"success"||t.value==="pending"&&"warning"||t.value==="banned"&&"error"||"default",children:["active","pending","banned","rejected"].includes(t.value)?n.filter(l=>l.status===t.value).length:n.length})},t.value))}),s.jsx($,{filters:o,onFilters:p,roleOptions:_}),f&&s.jsx(G,{filters:o,onFilters:p,onResetFilters:T,results:a.length,sx:{p:2.5,pt:0}}),s.jsxs(ne,{sx:{position:"relative",overflow:"unset"},children:[s.jsx(Z,{dense:e.dense,numSelected:e.selected.length,rowCount:a.length,onSelectAllRows:t=>e.onSelectAllRows(t,a.map(l=>l.id)),action:s.jsx(H,{title:"Delete",children:s.jsx(q,{color:"primary",onClick:d.onTrue,children:s.jsx(P,{icon:"solar:trash-bin-trash-bold"})})})}),s.jsx(z,{children:s.jsxs(ie,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[s.jsx(ee,{order:e.order,orderBy:e.orderBy,headLabel:me,rowCount:a.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,a.map(l=>l.id))}),s.jsxs(de,{children:[a.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(t=>s.jsx(J,{row:t,selected:e.selected.includes(t.id),onSelectRow:()=>e.onSelectRow(t.id),onDeleteRow:()=>S(t.id),onEditRow:()=>F(t.id)},t.id)),s.jsx(se,{height:R,emptyRows:X(e.page,e.rowsPerPage,a.length)}),s.jsx(te,{notFound:C})]})]})})]}),s.jsx(oe,{count:a.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),s.jsx(K,{open:d.value,onClose:d.onFalse,title:"Delete",content:s.jsxs(s.Fragment,{children:["Are you sure want to delete ",s.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:s.jsx(j,{variant:"contained",color:"error",onClick:()=>{v(),d.onFalse()},children:"Delete"})})]})}function ue({inputData:r,comparator:e,filters:x}){const{name:m,status:d,role:n}=x,h=r.map((o,c)=>[o,c]);return h.sort((o,c)=>{const a=e(o[0],c[0]);return a!==0?a:o[1]-c[1]}),r=h.map(o=>o[0]),m&&(r=r.filter(o=>o.name.toLowerCase().indexOf(m.toLowerCase())!==-1)),d!=="all"&&(r=r.filter(o=>o.status===d)),n.length&&(r=r.filter(o=>n.includes(o.role))),r}function os(){return s.jsxs(s.Fragment,{children:[s.jsx(W,{children:s.jsx("title",{children:" Dashboard: User List"})}),s.jsx(he,{})]})}export{os as default};
