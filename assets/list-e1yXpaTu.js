import{s as A,r as l,ae as Q,af as V,j as e,ag as w,W as z,ah as H,ai as U,aj as W,a9 as K,c as J,a as X,l as Y,ak as Z,p as R,al as M,f as y,m as ee,R as te,S as oe,H as re}from"./index-w2TjI0MF.js";import{u as se,R as le,a as ie,b as ae,c as ne,d as ce,e as de,f as ue}from"./product-shop-details-view-JokjJhTq.js";import"./_baseToString-XTbdvgXl.js";import{E as B}from"./empty-content-euVssf39.js";import{C as pe}from"./confirm-dialog-Aypc3550.js";import{C as me}from"./custom-breadcrumbs-RjSW2biQ.js";import{G as D}from"./GridActionsCellItem-5YvgnKBE.js";import{B as G}from"./Button-craGvtks.js";import{C as he}from"./Card-huoyhVY-.js";import{u as $,a as q,b as L,g as be,c as fe,d as xe,e as ge,G as N,i as _,f as Ce,D as Fe,h as Pe}from"./DataGrid-dgsGCI5B.js";import{G as je,a as ke}from"./GridToolbarColumnsButton-MIv13JiJ.js";import{T as we}from"./TextField-Rnx-roig.js";import"./rhf-autocomplete-U6p_PEPK.js";import"./upload-avatar-miqQoreL.js";import"./format-number-EJUytZhm.js";import"./fade-MUwQyQUN.js";import"./image-8XOWnu1q.js";import"./Select-fj7_ZCHL.js";import"./index-q81m-9gd.js";import"./Checkbox-MPmUmIhR.js";import"./SwitchBase-0oakK23s.js";import"./Chip-xwffwAcK.js";import"./FormControlLabel-i471xspq.js";import"./Switch-uNCmthE_.js";import"./editor-UzmsDwDj.js";import"./Radio-G0NR0HzA.js";import"./Autocomplete-zVr0giqp.js";import"./Close-f2MhZoYf.js";import"./Grid2-zCgqDIFm.js";import"./isMuiElement-c8Cd3wTs.js";import"./CardHeader-1ocrqUuB.js";import"./LoadingButton-pMu7UJc1.js";import"./CircularProgress-DldaBh_H.js";import"./color-preview-5nMjUO68.js";import"./Fab-nuIaAWs7.js";import"./Pagination-iX5A-QW1.js";import"./FirstPage-R9DouRzM.js";import"./Slider-of-Ki4xN.js";import"./visuallyHidden-DVicuktI.js";import"./Rating-ZoqVZfxV.js";import"./format-time-gLo4N_aV.js";import"./Tabs-mlTHhLz-.js";import"./KeyboardArrowRight-IzA2QHP7.js";import"./sumBy-ZziFuIuC.js";import"./_baseIteratee-YwCNjm6p.js";import"./_baseSum-gu02AyRp.js";import"./DialogTitle-RlTLSsU3.js";import"./dialogTitleClasses-DEvrnnr4.js";import"./DialogContent-ITde-Yrn.js";import"./DialogActions-UxlkhUlJ.js";import"./Skeleton-t3WH1W5x.js";import"./incrementer-button-BSPJVXzS.js";import"./use-light-box-YSHcs_4R.js";import"./carousel-arrow-index-FQbE_0V8.js";import"./markdown-9Td74xga.js";import"./ClickAwayListener--d0jk-Rq.js";import"./TablePagination-cyjZ-mNp.js";import"./TableCell-Fp4KwiAp.js";const Se=["componentsProps"],Te=o=>{const{classes:r}=o;return H({root:["toolbarFilterList"]},be,r)},ve=A("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(o,r)=>r.toolbarFilterList})(({theme:o})=>({margin:o.spacing(1,1,.5),padding:o.spacing(0,1)})),Re=l.forwardRef(function(r,u){var d,n;const{componentsProps:c={}}=r,b=Q(r,Se),p=c.button||{},i=$(),a=q(),f=L(i,fe),m=L(i,xe),h=L(i,ge),x=Te(a),j=V(),P=V(),S=l.useMemo(()=>{if(h.open)return i.current.getLocaleText("toolbarFiltersTooltipHide");if(f.length===0)return i.current.getLocaleText("toolbarFiltersTooltipShow");const T=s=>m[s.field].filterOperators.find(F=>F.value===s.operator).label||i.current.getLocaleText(`filterOperator${U(s.operator)}`).toString(),k=s=>{const{getValueAsString:F}=m[s.field].filterOperators.find(t=>t.value===s.operator);return F?F(s.value):s.value};return e.jsxs("div",{children:[i.current.getLocaleText("toolbarFiltersTooltipActive")(f.length),e.jsx(ve,{className:x.root,ownerState:a,children:f.map((s,F)=>w({},m[s.field]&&e.jsx("li",{children:`${m[s.field].headerName||s.field}
                  ${T(s)}
                  ${s.value!=null?k(s):""}`},F)))})]})},[i,a,h.open,f,m,x]),g=T=>{var k;const{open:s,openedPanelValue:F}=h;s&&F===N.filters?i.current.hidePreferences():i.current.showPreferences(N.filters,P,j),(k=p.onClick)==null||k.call(p,T)};if(a.disableColumnFilter)return null;const C=h.open&&h.panelId===P;return e.jsx(a.slots.baseTooltip,w({title:S,enterDelay:1e3},b,(d=a.slotProps)==null?void 0:d.baseTooltip,{children:e.jsx(a.slots.baseButton,w({ref:u,id:j,size:"small","aria-label":i.current.getLocaleText("toolbarFiltersLabel"),"aria-controls":C?P:void 0,"aria-expanded":C,"aria-haspopup":!0,startIcon:e.jsx(z,{badgeContent:f.length,color:"primary",children:e.jsx(a.slots.openFilterButtonIcon,{})})},p,{onClick:g},(n=a.slotProps)==null?void 0:n.baseButton,{children:i.current.getLocaleText("toolbarFilters")}))}))}),ye=["quickFilterParser","quickFilterFormatter","debounceMs"],Le=A(we,{name:"MuiDataGrid",slot:"ToolbarQuickFilter",overridesResolver:(o,r)=>r.toolbarQuickFilter})(({theme:o})=>({width:"auto",paddingBottom:o.spacing(.5),"& input":{marginLeft:o.spacing(.5)},"& .MuiInput-underline:before":{borderBottom:`1px solid ${(o.vars||o).palette.divider}`},"& input[type=search]::-ms-clear,\n& input[type=search]::-ms-reveal":{display:"none",width:0,height:0},'& input[type="search"]::-webkit-search-decoration,\n  & input[type="search"]::-webkit-search-cancel-button,\n  & input[type="search"]::-webkit-search-results-button,\n  & input[type="search"]::-webkit-search-results-decoration':{display:"none"}})),Ie=o=>o.split(" ").filter(r=>r!==""),De=o=>o.join(" ");function Ge(o){var r,u;const d=$(),n=q(),c=L(d,Ce),{quickFilterParser:b=Ie,quickFilterFormatter:p=De,debounceMs:i=n.filterDebounceMs}=o,a=Q(o,ye),[f,m]=l.useState(()=>p(c??[])),h=l.useRef(c);l.useEffect(()=>{_(h.current,c)||(h.current=c,m(g=>_(b(g),c)?g:p(c??[])))},[c,p,b]);const x=l.useCallback(g=>{const C=b(g);h.current=C,d.current.setQuickFilterValues(C)},[d,b]),j=l.useMemo(()=>W(x,i),[x,i]),P=l.useCallback(g=>{const C=g.target.value;m(C),j(C)},[j]),S=l.useCallback(()=>{m(""),x("")},[x]);return e.jsx(Le,w({as:n.slots.baseTextField,ownerState:n,variant:"standard",value:f,onChange:P,placeholder:d.current.getLocaleText("toolbarQuickFilterPlaceholder"),"aria-label":d.current.getLocaleText("toolbarQuickFilterLabel"),type:"search"},a,{InputProps:w({startAdornment:e.jsx(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:e.jsx(n.slots.baseIconButton,w({"aria-label":d.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),size:"small",sx:{visibility:f?"visible":"hidden"},onClick:S},(r=n.slotProps)==null?void 0:r.baseIconButton,{children:e.jsx(n.slots.quickFilterClearIcon,{fontSize:"small"})}))},a.InputProps)},(u=n.slotProps)==null?void 0:u.baseTextField))}const E=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],O={publish:[],stock:[]},Oe={category:!1},Ve=["category","actions"];function Me(){const{enqueueSnackbar:o}=K(),r=J(),u=X();Y();const{products:d,productsLoading:n}=se(),[c,b]=l.useState([]),[p,i]=l.useState(O),[a,f]=l.useState([]),[m,h]=l.useState(Oe);l.useEffect(()=>{d.length&&b(d)},[d]);const x=Be({inputData:c,filters:p}),j=!Z(O,p),P=l.useCallback((t,v)=>{i(I=>({...I,[t]:v}))},[]),S=l.useCallback(()=>{i(O)},[]),g=l.useCallback(t=>{const v=c.filter(I=>I.id!==t);o("Delete success!"),b(v)},[o,c]),C=l.useCallback(()=>{const t=c.filter(v=>!a.includes(v.id));o("Delete success!"),b(t)},[o,a,c]),T=l.useCallback(t=>{u.push(R.dashboard.product.edit(t))},[u]),k=l.useCallback(t=>{u.push(R.dashboard.product.details(t))},[u]),s=[{field:"category",headerName:"Category",filterable:!1},{field:"name",headerName:"Product",flex:1,minWidth:360,hideable:!1,renderCell:t=>e.jsx(le,{params:t})},{field:"createdAt",headerName:"Create at",width:160,renderCell:t=>e.jsx(ie,{params:t})},{field:"inventoryType",headerName:"Stock",width:160,type:"singleSelect",valueOptions:M,renderCell:t=>e.jsx(ae,{params:t})},{field:"price",headerName:"Price",width:140,editable:!0,renderCell:t=>e.jsx(ne,{params:t})},{field:"publish",headerName:"Publish",width:110,type:"singleSelect",editable:!0,valueOptions:E,renderCell:t=>e.jsx(ce,{params:t})},{type:"actions",field:"actions",headerName:" ",align:"right",headerAlign:"right",width:80,sortable:!1,filterable:!1,disableColumnMenu:!0,getActions:t=>[e.jsx(D,{showInMenu:!0,icon:e.jsx(y,{icon:"solar:eye-bold"}),label:"View",onClick:()=>k(t.row.id)}),e.jsx(D,{showInMenu:!0,icon:e.jsx(y,{icon:"solar:pen-bold"}),label:"Edit",onClick:()=>T(t.row.id)}),e.jsx(D,{showInMenu:!0,icon:e.jsx(y,{icon:"solar:trash-bin-trash-bold"}),label:"Delete",onClick:()=>{g(t.row.id)},sx:{color:"error.main"}})]}],F=()=>s.filter(t=>!Ve.includes(t.field)).map(t=>t.field);return e.jsxs(e.Fragment,{children:[e.jsxs(ee,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(me,{heading:"List",links:[{name:"Dashboard",href:R.dashboard.root},{name:"Product",href:R.dashboard.product.root},{name:"List"}],action:e.jsx(G,{component:te,href:R.dashboard.product.new,variant:"contained",startIcon:e.jsx(y,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),e.jsx(he,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:e.jsx(Fe,{checkboxSelection:!0,disableRowSelectionOnClick:!0,rows:x,columns:s,loading:n,getRowHeight:()=>"auto",pageSizeOptions:[5,10,25],initialState:{pagination:{paginationModel:{pageSize:10}}},onRowSelectionModelChange:t=>{f(t)},columnVisibilityModel:m,onColumnVisibilityModelChange:t=>h(t),slots:{toolbar:()=>e.jsxs(e.Fragment,{children:[e.jsxs(je,{children:[e.jsx(de,{filters:p,onFilters:P,stockOptions:M,publishOptions:E}),e.jsx(Ge,{}),e.jsxs(oe,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[!!a.length&&e.jsxs(G,{size:"small",color:"error",startIcon:e.jsx(y,{icon:"solar:trash-bin-trash-bold"}),onClick:r.onTrue,children:["Delete (",a.length,")"]}),e.jsx(ke,{}),e.jsx(Re,{}),e.jsx(Pe,{})]})]}),j&&e.jsx(ue,{filters:p,onFilters:P,onResetFilters:S,results:x.length,sx:{p:2.5,pt:0}})]}),noRowsOverlay:()=>e.jsx(B,{title:"No Data"}),noResultsOverlay:()=>e.jsx(B,{title:"No results found"})},slotProps:{columnsPanel:{getTogglableColumns:F}}})})]}),e.jsx(pe,{open:r.value,onClose:r.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",a.length," "]})," items?"]}),action:e.jsx(G,{variant:"contained",color:"error",onClick:()=>{C(),r.onFalse()},children:"Delete"})})]})}function Be({inputData:o,filters:r}){const{stock:u,publish:d}=r;return u.length&&(o=o.filter(n=>u.includes(n.inventoryType))),d.length&&(o=o.filter(n=>d.includes(n.publish))),o}function Qt(){return e.jsxs(e.Fragment,{children:[e.jsx(re,{children:e.jsx("title",{children:" Dashboard: Product List"})}),e.jsx(Me,{})]})}export{Qt as default};
