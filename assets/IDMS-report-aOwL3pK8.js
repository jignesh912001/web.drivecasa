import{k as l,j as t,ek as d,r as o,en as P,l as z,ej as D,m as U,p as J,i as K,f as Q,S as y,T as X,H as Z}from"./index-Noo6fs27.js";import{C as _}from"./custom-breadcrumbs-ydG5UHR-.js";import{a as s,i as ee}from"./format-time--nxbD8jU.js";import{E as b}from"./empty-content-neEhJRi2.js";import{S as i}from"./Stack-FuY0od7O.js";import{D as j}from"./DatePicker-dI5-Uu8W.js";import{f as te}from"./TextField-R_zrqhUz.js";import{a as ae}from"./report--U5ZXf4k.js";import{B as re}from"./Button-0u0OGDhY.js";import{C as le}from"./Card-AWTGDnPA.js";import{D as ne}from"./DataGrid-A8aJHe0y.js";import{G as ie,a as oe}from"./GridToolbarColumnsButton-PUnYbbSK.js";import"./index-q81m-9gd.js";import"./DialogActions-zQcx6p5x.js";import"./ListItem-MzG_70uk.js";import"./isMuiElement--IXscibz.js";import"./Chip-uU-2Hg8I.js";import"./DialogContent-leYRYKKd.js";import"./dialogTitleClasses-8wWor_1f.js";import"./Select-OTUqTT0w.js";import"./Autocomplete-OsxNL8sI.js";import"./Close-anbWtQJW.js";import"./ClickAwayListener-N3PeQBgh.js";import"./Checkbox-8V6d5qf8.js";import"./SwitchBase-npDm6zu2.js";import"./Switch-1PwF50Ho.js";import"./Skeleton-h1dJsBc1.js";import"./CircularProgress-ofWz8Qe9.js";import"./TablePagination-XES-pYGb.js";import"./KeyboardArrowRight-J6vZcRFD.js";import"./FirstPage-4OZx4AEp.js";import"./TableCell-C_4SG-uK.js";import"./FormControlLabel-LkDekRFr.js";function w({params:e}){var n;const a=(n=e==null?void 0:e.row)==null?void 0:n.nextDueAmount;return a===0?null:t.jsx(i,{sx:{py:1.5},children:`${d(a)}`})}w.propTypes={params:l.shape({row:l.object})};function T({params:e}){var n;const a=(n=e==null?void 0:e.row)==null?void 0:n.curDueAmt;return a===0?null:t.jsx(i,{sx:{py:1.5},children:`${d(a)}`})}T.propTypes={params:l.shape({row:l.object})};function N({params:e}){var n;const a=(n=e==null?void 0:e.row)==null?void 0:n.primaryLoanTotalCollected;return a===0?null:t.jsx(i,{sx:{py:1.5},children:`${d(a)}`})}N.propTypes={params:l.shape({row:l.object})};function S({params:e}){var n;const a=(n=e==null?void 0:e.row)==null?void 0:n.primaryLoanCurAmountFinanced;return a===0?null:t.jsx(i,{sx:{py:1.5},children:`${d(a)}`})}S.propTypes={params:l.shape({row:l.object})};function W({params:e}){var n;const a=(n=e==null?void 0:e.row)==null?void 0:n.primaryLoanCurTotalPrinBal;return a===0?null:t.jsx(i,{sx:{py:1.5},children:`${d(a)}`})}W.propTypes={params:l.shape({row:l.object})};function R({params:e}){var n;const a=(n=e==null?void 0:e.row)==null?void 0:n.estimatedFinanceChargeRemaining;return a===0?null:t.jsx(i,{sx:{py:1.5},children:`${d(a)}`})}R.propTypes={params:l.shape({row:l.object})};function g({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.primaryLoanContractDate)})}g.propTypes={params:l.shape({row:l.object})};function L({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.collateralAcquiredDate)})}L.propTypes={params:l.shape({row:l.object})};function A({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.curDueDate)})}A.propTypes={params:l.shape({row:l.object})};function I({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.nextDueDate)})}I.propTypes={params:l.shape({row:l.object})};function F({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.primaryLoanLastPaidDate)})}F.propTypes={params:l.shape({row:l.object})};function v({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.lastPromiseDate)})}v.propTypes={params:l.shape({row:l.object})};function M({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.lastRepoPostDate)})}M.propTypes={params:l.shape({row:l.object})};function G({params:e}){var a;return t.jsx(i,{sx:{py:1.5},children:s((a=e==null?void 0:e.row)==null?void 0:a.lastTransferDate)})}G.propTypes={params:l.shape({row:l.object})};function k({filters:e,onFilters:a,dateError:n}){const c=o.useCallback(u=>{a("startDate",u)},[a]),h=o.useCallback(u=>{a("endDate",u)},[a]);return t.jsxs(t.Fragment,{children:[t.jsx(j,{label:"Start date",value:e.startDate,onChange:c,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:200}}}),t.jsx(j,{label:"End date",value:e.endDate,onChange:h,slotProps:{textField:{fullWidth:!0,error:n}},sx:{maxWidth:{md:200},[`& .${te.root}`]:{position:{md:"absolute"},bottom:{md:-40}}}})]})}k.propTypes={dateError:l.bool,filters:l.object,onFilters:l.func};const C={search:"",startDate:P(),endDate:new Date},se=()=>{z();const[e,a]=o.useState(!0),[n,c]=o.useState(C),h=ee(n.startDate,n.endDate),[u,E]=o.useState([]),[p,B]=o.useState(0);o.useEffect(()=>{e&&$()},[e]);const $=async()=>{const r={searchStartDate:D(n.startDate),searchEndDate:D(n.endDate),search:n.search},{result:f,isLoading:x}=await ae(r),m=(f==null?void 0:f.map((H,V)=>({...H,id:V})))||[];B(m==null?void 0:m.length),E(m),a(x)},O=o.useCallback((r,f)=>{c(x=>({...x,[r]:f})),a(!0)},[]),q=()=>{const r={...C,startDate:P(),endDate:new Date};c(r),a(!0)},Y=[{field:"institutionID",headerName:"Institution ID",flex:1,minWidth:150,editable:!1},{field:"acctID",headerName:"Account ID",flex:1,minWidth:150,editable:!1},{field:"dealID",headerName:"Deal ID",flex:1,minWidth:150,editable:!1},{field:"loanNumber",headerName:"Loan Number",flex:1,minWidth:150,editable:!1},{field:"stockNumber",headerName:"Stock Number",flex:1,minWidth:150,editable:!1},{field:"vin",headerName:"VIN",flex:1,minWidth:200,editable:!1},{field:"primaryLoanContractDate",headerName:"Primary Loan Contract Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(g,{params:r})},{field:"collateralAcquiredDate",headerName:"Collateral Acquired Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(L,{params:r})},{field:"acctStatus",headerName:"Account Status",flex:1,minWidth:150,editable:!1},{field:"actualAcctStanding",headerName:"Account Standing",flex:1,minWidth:150,editable:!1},{field:"curDueDate",headerName:"Current Due Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(A,{params:r})},{field:"curDueAmt",headerName:"Current Due Amount",flex:1,minWidth:150,editable:!1,renderCell:r=>t.jsx(T,{params:r})},{field:"nextDueDate",headerName:"Next Due Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(I,{params:r})},{field:"nextDueAmount",headerName:"Next Due Amount",flex:1,minWidth:150,editable:!1,renderCell:r=>t.jsx(w,{params:r})},{field:"primaryLoanLastPaidDate",headerName:"Last Paid Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(F,{params:r})},{field:"primaryLoanPaymentsRemainingInMonths",headerName:"Payments Remaining (Months)",flex:1,minWidth:200,editable:!1},{field:"primaryLoanTotalCollected",headerName:"Total Collected",flex:1,minWidth:150,editable:!1,renderCell:r=>t.jsx(N,{params:r})},{field:"totalAcctCollected",headerName:"Total Account Collected",flex:1,minWidth:200,editable:!1},{field:"primaryLoanCurAmountFinanced",headerName:"Current Amount Financed",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(S,{params:r})},{field:"primaryLoanCurTotalPrinBal",headerName:"Principal Balance",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(W,{params:r})},{field:"estimatedFinanceChargeRemaining",headerName:"Finance Charge Remaining",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(R,{params:r})},{field:"actualDaysPastDue",headerName:"Days Past Due",flex:1,minWidth:150,editable:!1,valueGetter:r=>r.row.actualDaysPastDue!==0?r.row.actualDaysPastDue:null},{field:"actualPaymentsPastDue",headerName:"Payments Past Due",flex:1,minWidth:150,editable:!1,valueGetter:r=>r.row.actualPaymentsPastDue!==0?r.row.actualPaymentsPastDue:null},{field:"paymentsMade",headerName:"Payments Made",flex:1,minWidth:150,editable:!1,valueGetter:r=>r.row.paymentsMade!==0?r.row.paymentsMade:null},{field:"paidOnTime",headerName:"Paid on Time",flex:1,minWidth:150,editable:!1,valueGetter:r=>r.row.paidOnTime!==0?r.row.paidOnTime:null},{field:"insPolicyStatus",headerName:"Insurance Policy Status",flex:1,minWidth:150,editable:!1},{field:"lastPromiseType",headerName:"Last Promise Type",flex:1,minWidth:150,editable:!1},{field:"lastPromiseStatus",headerName:"Last Promise Status",flex:1,minWidth:150,editable:!1},{field:"lastPromiseDate",headerName:"Last Promise Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(v,{params:r})},{field:"lastRepoPostDate",headerName:"Last Repo Post Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(M,{params:r})},{field:"lastTransferDate",headerName:"Last Transfer Date",flex:1,minWidth:200,editable:!1,renderCell:r=>t.jsx(G,{params:r})},{field:"portfolioID",headerName:"Portfolio ID",flex:1,minWidth:150,editable:!1,valueGetter:r=>r.row.portfolioID||null}];return t.jsx(t.Fragment,{children:t.jsxs(U,{maxWidth:!1,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[t.jsx(_,{heading:"IDMS Snapshot DataReport",links:[{name:"Dashboard",href:J.dashboard.root},{name:"IDMS Snapshot DataReport"}],action:t.jsx(K,{display:"flex",gap:2,children:t.jsx(re,{variant:"outlined",startIcon:t.jsx(Q,{icon:"material-symbols:refresh"}),onClick:q,children:"Refresh"})}),sx:{mb:{xs:3,md:3}}}),t.jsxs(le,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:[t.jsx(ne,{rowCount:p,rows:u,columns:Y,loading:e,paginationMode:"server",pageSizeOptions:[],hideFooterPagination:!0,disableColumnMenu:!0,slots:{toolbar:()=>t.jsx(t.Fragment,{children:t.jsxs(ie,{children:[t.jsx(k,{filters:n,dateError:h,onFilters:O}),t.jsx(y,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:t.jsx(oe,{})})]})}),noRowsOverlay:()=>t.jsx(b,{title:"No Data"}),noResultsOverlay:()=>t.jsx(b,{title:"No results found"})}}),t.jsx(y,{sx:{p:2,display:"flex",justifyContent:"flex-end",flexDirection:"row"},children:t.jsxs(X,{variant:"body2",sx:{pr:2},children:["1â€“0 of ",p]})})]})]})})},de=se;function Ye(){return t.jsxs(t.Fragment,{children:[t.jsx(Z,{children:t.jsx("title",{children:"Omnique | IDMS Report"})}),t.jsx(de,{})]})}export{Ye as default};
