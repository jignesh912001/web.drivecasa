import{l as w,d0 as U,c as A,r as n,ak as G,j as r,S as O,p as L,f0 as Q,f1 as q,c$ as B,f2 as H,f3 as v,m as V,T as W,H as Y}from"./index-Noo6fs27.js";import{u as $,i as z,j as J,k as K,l as M,m as X,C as Z,n as D}from"./product-shop-details-view-LbNaaCnR.js";import{o as x}from"./orderBy-IanLvfLL.js";import{u as tt}from"./use-debounce--h1FtDgS.js";import{E as rt}from"./empty-content-neEhJRi2.js";import"./confirm-dialog-euqljDzL.js";import"./custom-breadcrumbs-ydG5UHR-.js";import"./rhf-autocomplete-erb-G4mR.js";import"./upload-avatar-04vlKITW.js";import"./format-number-Yy2PEz3_.js";import"./fade-QksGytxH.js";import"./image-ALYn2v86.js";import"./Button-0u0OGDhY.js";import"./TextField-R_zrqhUz.js";import"./isMuiElement--IXscibz.js";import"./Select-OTUqTT0w.js";import"./index-q81m-9gd.js";import"./Checkbox-8V6d5qf8.js";import"./SwitchBase-npDm6zu2.js";import"./Chip-uU-2Hg8I.js";import"./FormControlLabel-LkDekRFr.js";import"./Switch-1PwF50Ho.js";import"./editor-R8TcIy5n.js";import"./Radio-Rakm7KYW.js";import"./Autocomplete-OsxNL8sI.js";import"./Close-anbWtQJW.js";import"./Grid2-8mafkfbc.js";import"./Card-AWTGDnPA.js";import"./CardHeader-Q5sXuOkK.js";import"./LoadingButton-_b30FxuD.js";import"./CircularProgress-ofWz8Qe9.js";import"./color-preview-1BHL_C8x.js";import"./Fab-wqVBSiWx.js";import"./Pagination-X1iZuT7h.js";import"./FirstPage-4OZx4AEp.js";import"./Slider-DjL_D3hd.js";import"./visuallyHidden-DVicuktI.js";import"./Rating-0uWOfnnZ.js";import"./format-time--nxbD8jU.js";import"./Tabs-ETkh7yM_.js";import"./KeyboardArrowRight-J6vZcRFD.js";import"./sumBy-KLvgsmim.js";import"./_baseIteratee-16lvjUVO.js";import"./_baseToString-VmLXSleI.js";import"./_baseSum-gu02AyRp.js";import"./DialogTitle-Ou39CZJS.js";import"./dialogTitleClasses-8wWor_1f.js";import"./DialogContent-leYRYKKd.js";import"./DialogActions-zQcx6p5x.js";import"./Skeleton-h1dJsBc1.js";import"./incrementer-button-graxw1K_.js";import"./use-light-box-Echr-PTh.js";import"./carousel-arrow-index-p8cs_J34.js";import"./markdown-76wzxsGv.js";import"./_baseEach-deyVosbN.js";const R={gender:[],colors:[],rating:"",category:"all",priceRange:[0,200]};function et(){const t=w(),g=U(),o=A(),[c,d]=n.useState("featured"),[u,f]=n.useState(""),l=tt(u),[s,m]=n.useState(R),{products:e,productsLoading:p,productsEmpty:a}=$(),{searchResults:P,searchLoading:F}=z(l),j=n.useCallback((i,E)=>{m(N=>({...N,[i]:E}))},[]),C=n.useCallback(()=>{m(R)},[]),S=ot({inputData:e,filters:s,sortBy:c}),h=!G(R,s),y=!S.length&&h,T=n.useCallback(i=>{d(i)},[]),I=n.useCallback(i=>{f(i)},[]),k=r.jsxs(O,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[r.jsx(J,{query:l,results:P,onSearch:I,loading:F,hrefItem:i=>L.product.details(i)}),r.jsxs(O,{direction:"row",spacing:1,flexShrink:0,children:[r.jsx(K,{open:o.value,onOpen:o.onTrue,onClose:o.onFalse,filters:s,onFilters:j,canReset:h,onResetFilters:C,colorOptions:Q,ratingOptions:q,genderOptions:B,categoryOptions:["all",...H]}),r.jsx(M,{sort:c,onSort:T,sortOptions:v})]})]}),_=r.jsx(X,{filters:s,onFilters:j,canReset:h,onResetFilters:C,results:S.length}),b=r.jsx(rt,{filled:!0,title:"No Data",sx:{py:10}});return r.jsxs(V,{maxWidth:t.themeStretch?!1:"lg",sx:{mb:15},children:[r.jsx(Z,{totalItems:g.totalItems}),r.jsx(W,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Shop"}),r.jsxs(O,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[k,h&&_]}),(y||a)&&b,r.jsx(D,{products:S,loading:p})]})}function ot({inputData:t,filters:g,sortBy:o}){const{gender:c,category:d,colors:u,priceRange:f,rating:l}=g,s=f[0],m=f[1];return o==="featured"&&(t=x(t,["totalSold"],["desc"])),o==="newest"&&(t=x(t,["createdAt"],["desc"])),o==="priceDesc"&&(t=x(t,["price"],["desc"])),o==="priceAsc"&&(t=x(t,["price"],["asc"])),c.length&&(t=t.filter(e=>c.includes(e.gender))),d!=="all"&&(t=t.filter(e=>e.category===d)),u.length&&(t=t.filter(e=>e.colors.some(p=>u.includes(p)))),(s!==0||m!==200)&&(t=t.filter(e=>e.price>=s&&e.price<=m)),l&&(t=t.filter(e=>{const p=a=>a==="up4Star"?4:a==="up3Star"?3:a==="up2Star"?2:1;return e.totalRatings>p(l)})),t}function ir(){return r.jsxs(r.Fragment,{children:[r.jsx(Y,{children:r.jsx("title",{children:" Product: Shop"})}),r.jsx(et,{})]})}export{ir as default};
