import{r as s,ag as O,j as e,ah as F,M as z,s as Q,ai as B,Y as H,aj as U,ak as W,al as K,ab as Y,c as J,a as X,l as Z,am as ee,p as T,an as N,f as y,m as te,q as D,R as oe,S as re,H as se}from"./index-xB1vvAyJ.js";import{u as le,R as ie,a as ae,b as ne,c as ce,d as de,e as ue,f as pe}from"./product-shop-details-view-_u_j3KNZ.js";import"./_baseToString-C_Nv5458.js";import"./index-HK-5l04v.js";import{E as _}from"./empty-content-bGUdrkaE.js";import{C as he}from"./confirm-dialog-bzqro3nl.js";import{C as me}from"./custom-breadcrumbs-wgF-iFl5.js";import{u as V,L as be,a as $,b as I,g as fe,c as xe,d as ge,e as Ce,G as E,i as A,f as je,D as ke,h as Fe}from"./DataGrid-APy4AQQ-.js";import{C as Pe}from"./Card-Gntd35Jn.js";import{G as we,a as Se}from"./GridToolbarColumnsButton-mTG_hwn3.js";import{T as ve}from"./TextField-td4JeA1g.js";import"./rhf-autocomplete-r8fselEh.js";import"./upload-avatar-pnfkg7OZ.js";import"./format-number-L15G5dKH.js";import"./fade-dal8aPH9.js";import"./image-FVaiEMvq.js";import"./Select-aRu3lT5y.js";import"./index-q81m-9gd.js";import"./Checkbox-6SpEUXAP.js";import"./SwitchBase-qxU0gPIK.js";import"./Chip-qmlWe_G2.js";import"./FormControlLabel-NmygyKyB.js";import"./Switch-3gbcxFmS.js";import"./editor-ffx4PCir.js";import"./Radio-MVIm6ZGv.js";import"./Autocomplete-Ltnloao2.js";import"./Close-uJ8_hIF2.js";import"./CardHeader-Ip7HCGFn.js";import"./LoadingButton-6B3BI5iZ.js";import"./CircularProgress-U30rtiJG.js";import"./color-preview-34UtfXBv.js";import"./Fab-Wr3PftUm.js";import"./Pagination-x7ZxKTAf.js";import"./FirstPage-PVTtjOOh.js";import"./Slider-yF-YIFS-.js";import"./visuallyHidden-DVicuktI.js";import"./Rating-bqs5c4-i.js";import"./format-time-eydBxqVS.js";import"./Tabs-VqYeyP17.js";import"./KeyboardArrowRight-kaTPoCEG.js";import"./sumBy-pBs0seZ9.js";import"./_baseIteratee-_Z_Qx7uI.js";import"./_baseSum-gu02AyRp.js";import"./DialogTitle-SC018SQi.js";import"./dialogTitleClasses-mQgoVcO8.js";import"./DialogContent-3g7PHATz.js";import"./DialogActions-lE2wn6aI.js";import"./Skeleton-3LoYTSKW.js";import"./incrementer-button-DUD3tg1M.js";import"./use-light-box-dCXrJRFK.js";import"./carousel-arrow-index-ChDmFSFU.js";import"./markdown-86AK1kDJ.js";import"./ClickAwayListener-Nv1zF2SG.js";import"./TablePagination-aWjauRm7.js";const Re=["label","icon","showInMenu","onClick"],G=s.forwardRef((t,r)=>{const{label:u,icon:a,showInMenu:d,onClick:l}=t,h=O(t,Re),p=V(),n=m=>{l&&l(m)};if(!d){var i;return e.jsx(p.slots.baseIconButton,F({ref:r,size:"small",role:"menuitem","aria-label":u},h,{onClick:n},(i=p.slotProps)==null?void 0:i.baseIconButton,{children:s.cloneElement(a,{fontSize:"small"})}))}return e.jsxs(z,F({ref:r},h,{onClick:l,children:[a&&e.jsx(be,{children:a}),u]}))}),Te=["componentsProps"],ye=t=>{const{classes:r}=t;return U({root:["toolbarFilterList"]},fe,r)},Ie=Q("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(t,r)=>r.toolbarFilterList})(({theme:t})=>({margin:t.spacing(1,1,.5),padding:t.spacing(0,1)})),Le=s.forwardRef(function(r,u){var a,d;const{componentsProps:l={}}=r,h=O(r,Te),p=l.button||{},n=$(),i=V(),m=I(n,xe),b=I(n,ge),f=I(n,Ce),x=ye(i),P=B(),k=B(),S=s.useMemo(()=>{if(f.open)return n.current.getLocaleText("toolbarFiltersTooltipHide");if(m.length===0)return n.current.getLocaleText("toolbarFiltersTooltipShow");const v=c=>b[c.field].filterOperators.find(j=>j.value===c.operator).label||n.current.getLocaleText(`filterOperator${W(c.operator)}`).toString(),w=c=>{const{getValueAsString:j}=b[c.field].filterOperators.find(o=>o.value===c.operator);return j?j(c.value):c.value};return e.jsxs("div",{children:[n.current.getLocaleText("toolbarFiltersTooltipActive")(m.length),e.jsx(Ie,{className:x.root,ownerState:i,children:m.map((c,j)=>F({},b[c.field]&&e.jsx("li",{children:`${b[c.field].headerName||c.field}
                  ${v(c)}
                  ${c.value!=null?w(c):""}`},j)))})]})},[n,i,f.open,m,b,x]),g=v=>{var w;const{open:c,openedPanelValue:j}=f;c&&j===E.filters?n.current.hidePreferences():n.current.showPreferences(E.filters,k,P),(w=p.onClick)==null||w.call(p,v)};if(i.disableColumnFilter)return null;const C=f.open&&f.panelId===k;return e.jsx(i.slots.baseTooltip,F({title:S,enterDelay:1e3},h,(a=i.slotProps)==null?void 0:a.baseTooltip,{children:e.jsx(i.slots.baseButton,F({ref:u,id:P,size:"small","aria-label":n.current.getLocaleText("toolbarFiltersLabel"),"aria-controls":C?k:void 0,"aria-expanded":C,"aria-haspopup":!0,startIcon:e.jsx(H,{badgeContent:m.length,color:"primary",children:e.jsx(i.slots.openFilterButtonIcon,{})})},p,{onClick:g},(d=i.slotProps)==null?void 0:d.baseButton,{children:n.current.getLocaleText("toolbarFilters")}))}))}),De=["quickFilterParser","quickFilterFormatter","debounceMs"],Ge=Q(ve,{name:"MuiDataGrid",slot:"ToolbarQuickFilter",overridesResolver:(t,r)=>r.toolbarQuickFilter})(({theme:t})=>({width:"auto",paddingBottom:t.spacing(.5),"& input":{marginLeft:t.spacing(.5)},"& .MuiInput-underline:before":{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},"& input[type=search]::-ms-clear,\n& input[type=search]::-ms-reveal":{display:"none",width:0,height:0},'& input[type="search"]::-webkit-search-decoration,\n  & input[type="search"]::-webkit-search-cancel-button,\n  & input[type="search"]::-webkit-search-results-button,\n  & input[type="search"]::-webkit-search-results-decoration':{display:"none"}})),Me=t=>t.split(" ").filter(r=>r!==""),Oe=t=>t.join(" ");function Ve(t){var r,u;const a=$(),d=V(),l=I(a,je),{quickFilterParser:h=Me,quickFilterFormatter:p=Oe,debounceMs:n=d.filterDebounceMs}=t,i=O(t,De),[m,b]=s.useState(()=>p(l??[])),f=s.useRef(l);s.useEffect(()=>{A(f.current,l)||(f.current=l,b(g=>A(h(g),l)?g:p(l??[])))},[l,p,h]);const x=s.useCallback(g=>{const C=h(g);f.current=C,a.current.setQuickFilterValues(C)},[a,h]),P=s.useMemo(()=>K(x,n),[x,n]),k=s.useCallback(g=>{const C=g.target.value;b(C),P(C)},[P]),S=s.useCallback(()=>{b(""),x("")},[x]);return e.jsx(Ge,F({as:d.slots.baseTextField,ownerState:d,variant:"standard",value:m,onChange:k,placeholder:a.current.getLocaleText("toolbarQuickFilterPlaceholder"),"aria-label":a.current.getLocaleText("toolbarQuickFilterLabel"),type:"search"},i,{InputProps:F({startAdornment:e.jsx(d.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:e.jsx(d.slots.baseIconButton,F({"aria-label":a.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),size:"small",sx:{visibility:m?"visible":"hidden"},onClick:S},(r=d.slotProps)==null?void 0:r.baseIconButton,{children:e.jsx(d.slots.quickFilterClearIcon,{fontSize:"small"})}))},i.InputProps)},(u=d.slotProps)==null?void 0:u.baseTextField))}const q=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],M={publish:[],stock:[]},Be={category:!1},Ne=["category","actions"];function _e(){const{enqueueSnackbar:t}=Y(),r=J(),u=X();Z();const{products:a,productsLoading:d}=le(),[l,h]=s.useState([]),[p,n]=s.useState(M),[i,m]=s.useState([]),[b,f]=s.useState(Be);s.useEffect(()=>{a.length&&h(a)},[a]);const x=Ee({inputData:l,filters:p}),P=!ee(M,p),k=s.useCallback((o,R)=>{n(L=>({...L,[o]:R}))},[]),S=s.useCallback(()=>{n(M)},[]),g=s.useCallback(o=>{const R=l.filter(L=>L.id!==o);t("Delete success!"),h(R)},[t,l]),C=s.useCallback(()=>{const o=l.filter(R=>!i.includes(R.id));t("Delete success!"),h(o)},[t,i,l]),v=s.useCallback(o=>{u.push(T.dashboard.product.edit(o))},[u]),w=s.useCallback(o=>{u.push(T.dashboard.product.details(o))},[u]),c=[{field:"category",headerName:"Category",filterable:!1},{field:"name",headerName:"Product",flex:1,minWidth:360,hideable:!1,renderCell:o=>e.jsx(ie,{params:o})},{field:"createdAt",headerName:"Create at",width:160,renderCell:o=>e.jsx(ae,{params:o})},{field:"inventoryType",headerName:"Stock",width:160,type:"singleSelect",valueOptions:N,renderCell:o=>e.jsx(ne,{params:o})},{field:"price",headerName:"Price",width:140,editable:!0,renderCell:o=>e.jsx(ce,{params:o})},{field:"publish",headerName:"Publish",width:110,type:"singleSelect",editable:!0,valueOptions:q,renderCell:o=>e.jsx(de,{params:o})},{type:"actions",field:"actions",headerName:" ",align:"right",headerAlign:"right",width:80,sortable:!1,filterable:!1,disableColumnMenu:!0,getActions:o=>[e.jsx(G,{showInMenu:!0,icon:e.jsx(y,{icon:"solar:eye-bold"}),label:"View",onClick:()=>w(o.row.id)}),e.jsx(G,{showInMenu:!0,icon:e.jsx(y,{icon:"solar:pen-bold"}),label:"Edit",onClick:()=>v(o.row.id)}),e.jsx(G,{showInMenu:!0,icon:e.jsx(y,{icon:"solar:trash-bin-trash-bold"}),label:"Delete",onClick:()=>{g(o.row.id)},sx:{color:"error.main"}})]}],j=()=>c.filter(o=>!Ne.includes(o.field)).map(o=>o.field);return e.jsxs(e.Fragment,{children:[e.jsxs(te,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(me,{heading:"List",links:[{name:"Dashboard",href:T.dashboard.root},{name:"Product",href:T.dashboard.product.root},{name:"List"}],action:e.jsx(D,{component:oe,href:T.dashboard.product.new,variant:"contained",startIcon:e.jsx(y,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),e.jsx(Pe,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:e.jsx(ke,{checkboxSelection:!0,disableRowSelectionOnClick:!0,rows:x,columns:c,loading:d,getRowHeight:()=>"auto",pageSizeOptions:[5,10,25],initialState:{pagination:{paginationModel:{pageSize:10}}},onRowSelectionModelChange:o=>{m(o)},columnVisibilityModel:b,onColumnVisibilityModelChange:o=>f(o),slots:{toolbar:()=>e.jsxs(e.Fragment,{children:[e.jsxs(we,{children:[e.jsx(ue,{filters:p,onFilters:k,stockOptions:N,publishOptions:q}),e.jsx(Ve,{}),e.jsxs(re,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[!!i.length&&e.jsxs(D,{size:"small",color:"error",startIcon:e.jsx(y,{icon:"solar:trash-bin-trash-bold"}),onClick:r.onTrue,children:["Delete (",i.length,")"]}),e.jsx(Se,{}),e.jsx(Le,{}),e.jsx(Fe,{})]})]}),P&&e.jsx(pe,{filters:p,onFilters:k,onResetFilters:S,results:x.length,sx:{p:2.5,pt:0}})]}),noRowsOverlay:()=>e.jsx(_,{title:"No Data"}),noResultsOverlay:()=>e.jsx(_,{title:"No results found"})},slotProps:{columnsPanel:{getTogglableColumns:j}}})})]}),e.jsx(he,{open:r.value,onClose:r.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",i.length," "]})," items?"]}),action:e.jsx(D,{variant:"contained",color:"error",onClick:()=>{C(),r.onFalse()},children:"Delete"})})]})}function Ee({inputData:t,filters:r}){const{stock:u,publish:a}=r;return u.length&&(t=t.filter(d=>u.includes(d.inventoryType))),a.length&&(t=t.filter(d=>a.includes(d.publish))),t}function At(){return e.jsxs(e.Fragment,{children:[e.jsx(se,{children:e.jsx("title",{children:" Dashboard: Product List"})}),e.jsx(_e,{})]})}export{At as default};
