import{l as w,c_ as L,c as U,r as n,am as A,j as e,S as O,p as G,eL as Q,eM as q,cZ as B,eN as H,eO as v,m as M,T as V,H as W}from"./index--wFaadRb.js";import{u as Y,i as Z,j as z,k as J,l as K,m as X,C as $,n as D}from"./product-shop-details-view-DtvuA_Yy.js";import{o as x}from"./orderBy-LnF00RVF.js";import{u as tt}from"./use-debounce-i3C564Ev.js";import{E as et}from"./empty-content-WiQHHwie.js";import"./index-_dqGMlRY.js";import"./confirm-dialog-43oMdbUD.js";import"./custom-breadcrumbs-ONDZWUfG.js";import"./rhf-autocomplete-QnBVLTrH.js";import"./upload-avatar-D_5IKOg4.js";import"./format-number-3gFJgd2b.js";import"./fade-_k0nGodV.js";import"./image-HS8B2pMt.js";import"./TextField-wUpGdfDy.js";import"./Select-EWNJcv7w.js";import"./index-q81m-9gd.js";import"./Checkbox-BwNFb8VB.js";import"./SwitchBase-Zut6ZoL2.js";import"./Chip-k7nWeOZP.js";import"./FormControlLabel-wG6vzsxy.js";import"./Switch-1lqz2NaP.js";import"./editor-0GqhwI0G.js";import"./Radio-PU2JLskG.js";import"./Autocomplete-xuNfJMJv.js";import"./Close-RAVJ66bT.js";import"./Card-3xd7QD08.js";import"./CardHeader-z-utyf17.js";import"./LoadingButton-sQ_fGZmr.js";import"./CircularProgress-HPbgFw1H.js";import"./color-preview-VSFOZyhu.js";import"./Fab-7Oy6CLYp.js";import"./Pagination-w3M5xF3N.js";import"./FirstPage-EY9_mO6Y.js";import"./Slider-UjihqW9U.js";import"./visuallyHidden-DVicuktI.js";import"./Rating-x8iI6f1R.js";import"./format-time-_N_ILhj_.js";import"./Tabs-E3Ctlzc9.js";import"./KeyboardArrowRight-R2vcGvpJ.js";import"./sumBy-QzGVUYZU.js";import"./_baseIteratee-6HZ5wA2Y.js";import"./_baseToString-lTcM-4Gy.js";import"./_baseSum-gu02AyRp.js";import"./DialogTitle-cchzL2W1.js";import"./dialogTitleClasses-5QLC8HV_.js";import"./DialogContent-Gyp8NrZY.js";import"./DialogActions-tRVgFXQW.js";import"./Skeleton-KoCSFOKQ.js";import"./incrementer-button-wmLdY7KK.js";import"./use-light-box-uWqP9FAl.js";import"./carousel-arrow-index-i51h9YHu.js";import"./markdown-r8lk0Zq6.js";import"./_baseEach-EvQyRNoI.js";const R={gender:[],colors:[],rating:"",category:"all",priceRange:[0,200]};function rt(){const t=w(),g=L(),o=U(),[c,d]=n.useState("featured"),[u,h]=n.useState(""),l=tt(u),[s,m]=n.useState(R),{products:r,productsLoading:p,productsEmpty:a}=Y(),{searchResults:P,searchLoading:F}=Z(l),j=n.useCallback((i,k)=>{m(E=>({...E,[i]:k}))},[]),C=n.useCallback(()=>{m(R)},[]),S=ot({inputData:r,filters:s,sortBy:c}),f=!A(R,s),y=!S.length&&f,T=n.useCallback(i=>{d(i)},[]),I=n.useCallback(i=>{h(i)},[]),_=e.jsxs(O,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[e.jsx(z,{query:l,results:P,onSearch:I,loading:F,hrefItem:i=>G.product.details(i)}),e.jsxs(O,{direction:"row",spacing:1,flexShrink:0,children:[e.jsx(J,{open:o.value,onOpen:o.onTrue,onClose:o.onFalse,filters:s,onFilters:j,canReset:f,onResetFilters:C,colorOptions:Q,ratingOptions:q,genderOptions:B,categoryOptions:["all",...H]}),e.jsx(K,{sort:c,onSort:T,sortOptions:v})]})]}),N=e.jsx(X,{filters:s,onFilters:j,canReset:f,onResetFilters:C,results:S.length}),b=e.jsx(et,{filled:!0,title:"No Data",sx:{py:10}});return e.jsxs(M,{maxWidth:t.themeStretch?!1:"lg",sx:{mb:15},children:[e.jsx($,{totalItems:g.totalItems}),e.jsx(V,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Shop"}),e.jsxs(O,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[_,f&&N]}),(y||a)&&b,e.jsx(D,{products:S,loading:p})]})}function ot({inputData:t,filters:g,sortBy:o}){const{gender:c,category:d,colors:u,priceRange:h,rating:l}=g,s=h[0],m=h[1];return o==="featured"&&(t=x(t,["totalSold"],["desc"])),o==="newest"&&(t=x(t,["createdAt"],["desc"])),o==="priceDesc"&&(t=x(t,["price"],["desc"])),o==="priceAsc"&&(t=x(t,["price"],["asc"])),c.length&&(t=t.filter(r=>c.includes(r.gender))),d!=="all"&&(t=t.filter(r=>r.category===d)),u.length&&(t=t.filter(r=>r.colors.some(p=>u.includes(p)))),(s!==0||m!==200)&&(t=t.filter(r=>r.price>=s&&r.price<=m)),l&&(t=t.filter(r=>{const p=a=>a==="up4Star"?4:a==="up3Star"?3:a==="up2Star"?2:1;return r.totalRatings>p(l)})),t}function oe(){return e.jsxs(e.Fragment,{children:[e.jsx(W,{children:e.jsx("title",{children:" Product: Shop"})}),e.jsx(rt,{})]})}export{oe as default};
